function bs(n,o){return function(){return n.apply(o,arguments)}}const{toString:ac}=Object.prototype,{getPrototypeOf:Or}=Object,to=(n=>o=>{const e=ac.call(o);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),te=n=>(n=n.toLowerCase(),o=>to(o)===n),eo=n=>o=>typeof o===n,{isArray:fn}=Array,Kn=eo("undefined");function sc(n){return n!==null&&!Kn(n)&&n.constructor!==null&&!Kn(n.constructor)&&Ut(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const xs=te("ArrayBuffer");function lc(n){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(n):o=n&&n.buffer&&xs(n.buffer),o}const uc=eo("string"),Ut=eo("function"),Es=eo("number"),no=n=>n!==null&&typeof n=="object",cc=n=>n===!0||n===!1,ji=n=>{if(to(n)!=="object")return!1;const o=Or(n);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},hc=te("Date"),dc=te("File"),fc=te("Blob"),pc=te("FileList"),_c=n=>no(n)&&Ut(n.pipe),mc=n=>{let o;return n&&(typeof FormData=="function"&&n instanceof FormData||Ut(n.append)&&((o=to(n))==="formdata"||o==="object"&&Ut(n.toString)&&n.toString()==="[object FormData]"))},gc=te("URLSearchParams"),[vc,yc,wc,Lc]=["ReadableStream","Request","Response","Headers"].map(te),bc=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qn(n,o,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let c,r;if(typeof n!="object"&&(n=[n]),fn(n))for(c=0,r=n.length;c<r;c++)o.call(null,n[c],c,n);else{const s=e?Object.getOwnPropertyNames(n):Object.keys(n),u=s.length;let d;for(c=0;c<u;c++)d=s[c],o.call(null,n[d],d,n)}}function Ms(n,o){o=o.toLowerCase();const e=Object.keys(n);let c=e.length,r;for(;c-- >0;)if(r=e[c],o===r.toLowerCase())return r;return null}const ze=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ts=n=>!Kn(n)&&n!==ze;function ar(){const{caseless:n}=Ts(this)&&this||{},o={},e=(c,r)=>{const s=n&&Ms(o,r)||r;ji(o[s])&&ji(c)?o[s]=ar(o[s],c):ji(c)?o[s]=ar({},c):fn(c)?o[s]=c.slice():o[s]=c};for(let c=0,r=arguments.length;c<r;c++)arguments[c]&&Qn(arguments[c],e);return o}const xc=(n,o,e,{allOwnKeys:c}={})=>(Qn(o,(r,s)=>{e&&Ut(r)?n[s]=bs(r,e):n[s]=r},{allOwnKeys:c}),n),Ec=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Mc=(n,o,e,c)=>{n.prototype=Object.create(o.prototype,c),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:o.prototype}),e&&Object.assign(n.prototype,e)},Tc=(n,o,e,c)=>{let r,s,u;const d={};if(o=o||{},n==null)return o;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)u=r[s],(!c||c(u,n,o))&&!d[u]&&(o[u]=n[u],d[u]=!0);n=e!==!1&&Or(n)}while(n&&(!e||e(n,o))&&n!==Object.prototype);return o},Cc=(n,o,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=o.length;const c=n.indexOf(o,e);return c!==-1&&c===e},Pc=n=>{if(!n)return null;if(fn(n))return n;let o=n.length;if(!Es(o))return null;const e=new Array(o);for(;o-- >0;)e[o]=n[o];return e},kc=(n=>o=>n&&o instanceof n)(typeof Uint8Array<"u"&&Or(Uint8Array)),Dc=(n,o)=>{const c=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=c.next())&&!r.done;){const s=r.value;o.call(n,s[0],s[1])}},Sc=(n,o)=>{let e;const c=[];for(;(e=n.exec(o))!==null;)c.push(e);return c},Oc=te("HTMLFormElement"),Ac=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,c,r){return c.toUpperCase()+r}),Ya=(({hasOwnProperty:n})=>(o,e)=>n.call(o,e))(Object.prototype),Ic=te("RegExp"),Cs=(n,o)=>{const e=Object.getOwnPropertyDescriptors(n),c={};Qn(e,(r,s)=>{let u;(u=o(r,s,n))!==!1&&(c[s]=u||r)}),Object.defineProperties(n,c)},Rc=n=>{Cs(n,(o,e)=>{if(Ut(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const c=n[e];if(Ut(c)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},zc=(n,o)=>{const e={},c=r=>{r.forEach(s=>{e[s]=!0})};return fn(n)?c(n):c(String(n).split(o)),e},Nc=()=>{},Bc=(n,o)=>n!=null&&Number.isFinite(n=+n)?n:o,Yo="abcdefghijklmnopqrstuvwxyz",qa="0123456789",Ps={DIGIT:qa,ALPHA:Yo,ALPHA_DIGIT:Yo+Yo.toUpperCase()+qa},Fc=(n=16,o=Ps.ALPHA_DIGIT)=>{let e="";const{length:c}=o;for(;n--;)e+=o[Math.random()*c|0];return e};function Hc(n){return!!(n&&Ut(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Zc=n=>{const o=new Array(10),e=(c,r)=>{if(no(c)){if(o.indexOf(c)>=0)return;if(!("toJSON"in c)){o[r]=c;const s=fn(c)?[]:{};return Qn(c,(u,d)=>{const p=e(u,r+1);!Kn(p)&&(s[d]=p)}),o[r]=void 0,s}}return c};return e(n,0)},Uc=te("AsyncFunction"),jc=n=>n&&(no(n)||Ut(n))&&Ut(n.then)&&Ut(n.catch),ks=((n,o)=>n?setImmediate:o?((e,c)=>(ze.addEventListener("message",({source:r,data:s})=>{r===ze&&s===e&&c.length&&c.shift()()},!1),r=>{c.push(r),ze.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Ut(ze.postMessage)),Wc=typeof queueMicrotask<"u"?queueMicrotask.bind(ze):typeof process<"u"&&process.nextTick||ks,M={isArray:fn,isArrayBuffer:xs,isBuffer:sc,isFormData:mc,isArrayBufferView:lc,isString:uc,isNumber:Es,isBoolean:cc,isObject:no,isPlainObject:ji,isReadableStream:vc,isRequest:yc,isResponse:wc,isHeaders:Lc,isUndefined:Kn,isDate:hc,isFile:dc,isBlob:fc,isRegExp:Ic,isFunction:Ut,isStream:_c,isURLSearchParams:gc,isTypedArray:kc,isFileList:pc,forEach:Qn,merge:ar,extend:xc,trim:bc,stripBOM:Ec,inherits:Mc,toFlatObject:Tc,kindOf:to,kindOfTest:te,endsWith:Cc,toArray:Pc,forEachEntry:Dc,matchAll:Sc,isHTMLForm:Oc,hasOwnProperty:Ya,hasOwnProp:Ya,reduceDescriptors:Cs,freezeMethods:Rc,toObjectSet:zc,toCamelCase:Ac,noop:Nc,toFiniteNumber:Bc,findKey:Ms,global:ze,isContextDefined:Ts,ALPHABET:Ps,generateString:Fc,isSpecCompliantForm:Hc,toJSONObject:Zc,isAsyncFn:Uc,isThenable:jc,setImmediate:ks,asap:Wc};function V(n,o,e,c,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",o&&(this.code=o),e&&(this.config=e),c&&(this.request=c),r&&(this.response=r,this.status=r.status?r.status:null)}M.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Ds=V.prototype,Ss={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ss[n]={value:n}});Object.defineProperties(V,Ss);Object.defineProperty(Ds,"isAxiosError",{value:!0});V.from=(n,o,e,c,r,s)=>{const u=Object.create(Ds);return M.toFlatObject(n,u,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),V.call(u,n.message,o,e,c,r),u.cause=n,u.name=n.name,s&&Object.assign(u,s),u};const Gc=null;function sr(n){return M.isPlainObject(n)||M.isArray(n)}function Os(n){return M.endsWith(n,"[]")?n.slice(0,-2):n}function Va(n,o,e){return n?n.concat(o).map(function(r,s){return r=Os(r),!e&&s?"["+r+"]":r}).join(e?".":""):o}function Yc(n){return M.isArray(n)&&!n.some(sr)}const qc=M.toFlatObject(M,{},null,function(o){return/^is[A-Z]/.test(o)});function io(n,o,e){if(!M.isObject(n))throw new TypeError("target must be an object");o=o||new FormData,e=M.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,C){return!M.isUndefined(C[P])});const c=e.metaTokens,r=e.visitor||g,s=e.dots,u=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(o);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function v(S){if(S===null)return"";if(M.isDate(S))return S.toISOString();if(!p&&M.isBlob(S))throw new V("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(S)||M.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,P,C){let H=S;if(S&&!C&&typeof S=="object"){if(M.endsWith(P,"{}"))P=c?P:P.slice(0,-2),S=JSON.stringify(S);else if(M.isArray(S)&&Yc(S)||(M.isFileList(S)||M.endsWith(P,"[]"))&&(H=M.toArray(S)))return P=Os(P),H.forEach(function(Z,et){!(M.isUndefined(Z)||Z===null)&&o.append(u===!0?Va([P],et,s):u===null?P:P+"[]",v(Z))}),!1}return sr(S)?!0:(o.append(Va(C,P,s),v(S)),!1)}const x=[],D=Object.assign(qc,{defaultVisitor:g,convertValue:v,isVisitable:sr});function I(S,P){if(!M.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));x.push(S),M.forEach(S,function(H,U){(!(M.isUndefined(H)||H===null)&&r.call(o,H,M.isString(U)?U.trim():U,P,D))===!0&&I(H,P?P.concat(U):[U])}),x.pop()}}if(!M.isObject(n))throw new TypeError("data must be an object");return I(n),o}function $a(n){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return o[c]})}function Ar(n,o){this._pairs=[],n&&io(n,this,o)}const As=Ar.prototype;As.append=function(o,e){this._pairs.push([o,e])};As.toString=function(o){const e=o?function(c){return o.call(this,c,$a)}:$a;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function Vc(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Is(n,o,e){if(!o)return n;const c=e&&e.encode||Vc,r=e&&e.serialize;let s;if(r?s=r(o,e):s=M.isURLSearchParams(o)?o.toString():new Ar(o,e).toString(c),s){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Ka{constructor(){this.handlers=[]}use(o,e,c){return this.handlers.push({fulfilled:o,rejected:e,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){M.forEach(this.handlers,function(c){c!==null&&o(c)})}}const Rs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$c=typeof URLSearchParams<"u"?URLSearchParams:Ar,Kc=typeof FormData<"u"?FormData:null,Jc=typeof Blob<"u"?Blob:null,Xc={isBrowser:!0,classes:{URLSearchParams:$c,FormData:Kc,Blob:Jc},protocols:["http","https","file","blob","url","data"]},Ir=typeof window<"u"&&typeof document<"u",lr=typeof navigator=="object"&&navigator||void 0,Qc=Ir&&(!lr||["ReactNative","NativeScript","NS"].indexOf(lr.product)<0),th=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eh=Ir&&window.location.href||"http://localhost",nh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ir,hasStandardBrowserEnv:Qc,hasStandardBrowserWebWorkerEnv:th,navigator:lr,origin:eh},Symbol.toStringTag,{value:"Module"})),Nt={...nh,...Xc};function ih(n,o){return io(n,new Nt.classes.URLSearchParams,Object.assign({visitor:function(e,c,r,s){return Nt.isNode&&M.isBuffer(e)?(this.append(c,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},o))}function oh(n){return M.matchAll(/\w+|\[(\w*)]/g,n).map(o=>o[0]==="[]"?"":o[1]||o[0])}function rh(n){const o={},e=Object.keys(n);let c;const r=e.length;let s;for(c=0;c<r;c++)s=e[c],o[s]=n[s];return o}function zs(n){function o(e,c,r,s){let u=e[s++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),p=s>=e.length;return u=!u&&M.isArray(r)?r.length:u,p?(M.hasOwnProp(r,u)?r[u]=[r[u],c]:r[u]=c,!d):((!r[u]||!M.isObject(r[u]))&&(r[u]=[]),o(e,c,r[u],s)&&M.isArray(r[u])&&(r[u]=rh(r[u])),!d)}if(M.isFormData(n)&&M.isFunction(n.entries)){const e={};return M.forEachEntry(n,(c,r)=>{o(oh(c),r,e,0)}),e}return null}function ah(n,o,e){if(M.isString(n))try{return(o||JSON.parse)(n),M.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(0,JSON.stringify)(n)}const ti={transitional:Rs,adapter:["xhr","http","fetch"],transformRequest:[function(o,e){const c=e.getContentType()||"",r=c.indexOf("application/json")>-1,s=M.isObject(o);if(s&&M.isHTMLForm(o)&&(o=new FormData(o)),M.isFormData(o))return r?JSON.stringify(zs(o)):o;if(M.isArrayBuffer(o)||M.isBuffer(o)||M.isStream(o)||M.isFile(o)||M.isBlob(o)||M.isReadableStream(o))return o;if(M.isArrayBufferView(o))return o.buffer;if(M.isURLSearchParams(o))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let d;if(s){if(c.indexOf("application/x-www-form-urlencoded")>-1)return ih(o,this.formSerializer).toString();if((d=M.isFileList(o))||c.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return io(d?{"files[]":o}:o,p&&new p,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),ah(o)):o}],transformResponse:[function(o){const e=this.transitional||ti.transitional,c=e&&e.forcedJSONParsing,r=this.responseType==="json";if(M.isResponse(o)||M.isReadableStream(o))return o;if(o&&M.isString(o)&&(c&&!this.responseType||r)){const u=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(o)}catch(d){if(u)throw d.name==="SyntaxError"?V.from(d,V.ERR_BAD_RESPONSE,this,null,this.response):d}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],n=>{ti.headers[n]={}});const sh=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lh=n=>{const o={};let e,c,r;return n&&n.split(`
`).forEach(function(u){r=u.indexOf(":"),e=u.substring(0,r).trim().toLowerCase(),c=u.substring(r+1).trim(),!(!e||o[e]&&sh[e])&&(e==="set-cookie"?o[e]?o[e].push(c):o[e]=[c]:o[e]=o[e]?o[e]+", "+c:c)}),o},Ja=Symbol("internals");function Un(n){return n&&String(n).trim().toLowerCase()}function Wi(n){return n===!1||n==null?n:M.isArray(n)?n.map(Wi):String(n)}function uh(n){const o=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=e.exec(n);)o[c[1]]=c[2];return o}const ch=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function qo(n,o,e,c,r){if(M.isFunction(c))return c.call(this,o,e);if(r&&(o=e),!!M.isString(o)){if(M.isString(c))return o.indexOf(c)!==-1;if(M.isRegExp(c))return c.test(o)}}function hh(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,e,c)=>e.toUpperCase()+c)}function dh(n,o){const e=M.toCamelCase(" "+o);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+e,{value:function(r,s,u){return this[c].call(this,o,r,s,u)},configurable:!0})})}class Bt{constructor(o){o&&this.set(o)}set(o,e,c){const r=this;function s(d,p,v){const g=Un(p);if(!g)throw new Error("header name must be a non-empty string");const x=M.findKey(r,g);(!x||r[x]===void 0||v===!0||v===void 0&&r[x]!==!1)&&(r[x||p]=Wi(d))}const u=(d,p)=>M.forEach(d,(v,g)=>s(v,g,p));if(M.isPlainObject(o)||o instanceof this.constructor)u(o,e);else if(M.isString(o)&&(o=o.trim())&&!ch(o))u(lh(o),e);else if(M.isHeaders(o))for(const[d,p]of o.entries())s(p,d,c);else o!=null&&s(e,o,c);return this}get(o,e){if(o=Un(o),o){const c=M.findKey(this,o);if(c){const r=this[c];if(!e)return r;if(e===!0)return uh(r);if(M.isFunction(e))return e.call(this,r,c);if(M.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,e){if(o=Un(o),o){const c=M.findKey(this,o);return!!(c&&this[c]!==void 0&&(!e||qo(this,this[c],c,e)))}return!1}delete(o,e){const c=this;let r=!1;function s(u){if(u=Un(u),u){const d=M.findKey(c,u);d&&(!e||qo(c,c[d],d,e))&&(delete c[d],r=!0)}}return M.isArray(o)?o.forEach(s):s(o),r}clear(o){const e=Object.keys(this);let c=e.length,r=!1;for(;c--;){const s=e[c];(!o||qo(this,this[s],s,o,!0))&&(delete this[s],r=!0)}return r}normalize(o){const e=this,c={};return M.forEach(this,(r,s)=>{const u=M.findKey(c,s);if(u){e[u]=Wi(r),delete e[s];return}const d=o?hh(s):String(s).trim();d!==s&&delete e[s],e[d]=Wi(r),c[d]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const e=Object.create(null);return M.forEach(this,(c,r)=>{c!=null&&c!==!1&&(e[r]=o&&M.isArray(c)?c.join(", "):c)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,e])=>o+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...e){const c=new this(o);return e.forEach(r=>c.set(r)),c}static accessor(o){const c=(this[Ja]=this[Ja]={accessors:{}}).accessors,r=this.prototype;function s(u){const d=Un(u);c[d]||(dh(r,u),c[d]=!0)}return M.isArray(o)?o.forEach(s):s(o),this}}Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Bt.prototype,({value:n},o)=>{let e=o[0].toUpperCase()+o.slice(1);return{get:()=>n,set(c){this[e]=c}}});M.freezeMethods(Bt);function Vo(n,o){const e=this||ti,c=o||e,r=Bt.from(c.headers);let s=c.data;return M.forEach(n,function(d){s=d.call(e,s,r.normalize(),o?o.status:void 0)}),r.normalize(),s}function Ns(n){return!!(n&&n.__CANCEL__)}function pn(n,o,e){V.call(this,n??"canceled",V.ERR_CANCELED,o,e),this.name="CanceledError"}M.inherits(pn,V,{__CANCEL__:!0});function Bs(n,o,e){const c=e.config.validateStatus;!e.status||!c||c(e.status)?n(e):o(new V("Request failed with status code "+e.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function fh(n){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return o&&o[1]||""}function ph(n,o){n=n||10;const e=new Array(n),c=new Array(n);let r=0,s=0,u;return o=o!==void 0?o:1e3,function(p){const v=Date.now(),g=c[s];u||(u=v),e[r]=p,c[r]=v;let x=s,D=0;for(;x!==r;)D+=e[x++],x=x%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),v-u<o)return;const I=g&&v-g;return I?Math.round(D*1e3/I):void 0}}function _h(n,o){let e=0,c=1e3/o,r,s;const u=(v,g=Date.now())=>{e=g,r=null,s&&(clearTimeout(s),s=null),n.apply(null,v)};return[(...v)=>{const g=Date.now(),x=g-e;x>=c?u(v,g):(r=v,s||(s=setTimeout(()=>{s=null,u(r)},c-x)))},()=>r&&u(r)]}const qi=(n,o,e=3)=>{let c=0;const r=ph(50,250);return _h(s=>{const u=s.loaded,d=s.lengthComputable?s.total:void 0,p=u-c,v=r(p),g=u<=d;c=u;const x={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:v||void 0,estimated:v&&d&&g?(d-u)/v:void 0,event:s,lengthComputable:d!=null,[o?"download":"upload"]:!0};n(x)},e)},Xa=(n,o)=>{const e=n!=null;return[c=>o[0]({lengthComputable:e,total:n,loaded:c}),o[1]]},Qa=n=>(...o)=>M.asap(()=>n(...o)),mh=Nt.hasStandardBrowserEnv?function(){const o=Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent),e=document.createElement("a");let c;function r(s){let u=s;return o&&(e.setAttribute("href",u),u=e.href),e.setAttribute("href",u),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return c=r(window.location.href),function(u){const d=M.isString(u)?r(u):u;return d.protocol===c.protocol&&d.host===c.host}}():function(){return function(){return!0}}(),gh=Nt.hasStandardBrowserEnv?{write(n,o,e,c,r,s){const u=[n+"="+encodeURIComponent(o)];M.isNumber(e)&&u.push("expires="+new Date(e).toGMTString()),M.isString(c)&&u.push("path="+c),M.isString(r)&&u.push("domain="+r),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vh(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yh(n,o){return o?n.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):n}function Fs(n,o){return n&&!vh(o)?yh(n,o):o}const ts=n=>n instanceof Bt?{...n}:n;function je(n,o){o=o||{};const e={};function c(v,g,x){return M.isPlainObject(v)&&M.isPlainObject(g)?M.merge.call({caseless:x},v,g):M.isPlainObject(g)?M.merge({},g):M.isArray(g)?g.slice():g}function r(v,g,x){if(M.isUndefined(g)){if(!M.isUndefined(v))return c(void 0,v,x)}else return c(v,g,x)}function s(v,g){if(!M.isUndefined(g))return c(void 0,g)}function u(v,g){if(M.isUndefined(g)){if(!M.isUndefined(v))return c(void 0,v)}else return c(void 0,g)}function d(v,g,x){if(x in o)return c(v,g);if(x in n)return c(void 0,v)}const p={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(v,g)=>r(ts(v),ts(g),!0)};return M.forEach(Object.keys(Object.assign({},n,o)),function(g){const x=p[g]||r,D=x(n[g],o[g],g);M.isUndefined(D)&&x!==d||(e[g]=D)}),e}const Hs=n=>{const o=je({},n);let{data:e,withXSRFToken:c,xsrfHeaderName:r,xsrfCookieName:s,headers:u,auth:d}=o;o.headers=u=Bt.from(u),o.url=Is(Fs(o.baseURL,o.url),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(M.isFormData(e)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((p=u.getContentType())!==!1){const[v,...g]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...g].join("; "))}}if(Nt.hasStandardBrowserEnv&&(c&&M.isFunction(c)&&(c=c(o)),c||c!==!1&&mh(o.url))){const v=r&&s&&gh.read(s);v&&u.set(r,v)}return o},wh=typeof XMLHttpRequest<"u",Lh=wh&&function(n){return new Promise(function(e,c){const r=Hs(n);let s=r.data;const u=Bt.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:v}=r,g,x,D,I,S;function P(){I&&I(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function H(){if(!C)return;const Z=Bt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),ot={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:Z,config:n,request:C};Bs(function(_t){e(_t),P()},function(_t){c(_t),P()},ot),C=null}"onloadend"in C?C.onloadend=H:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(H)},C.onabort=function(){C&&(c(new V("Request aborted",V.ECONNABORTED,n,C)),C=null)},C.onerror=function(){c(new V("Network Error",V.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let et=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const ot=r.transitional||Rs;r.timeoutErrorMessage&&(et=r.timeoutErrorMessage),c(new V(et,ot.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,n,C)),C=null},s===void 0&&u.setContentType(null),"setRequestHeader"in C&&M.forEach(u.toJSON(),function(et,ot){C.setRequestHeader(ot,et)}),M.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),d&&d!=="json"&&(C.responseType=r.responseType),v&&([D,S]=qi(v,!0),C.addEventListener("progress",D)),p&&C.upload&&([x,I]=qi(p),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",I)),(r.cancelToken||r.signal)&&(g=Z=>{C&&(c(!Z||Z.type?new pn(null,n,C):Z),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const U=fh(r.url);if(U&&Nt.protocols.indexOf(U)===-1){c(new V("Unsupported protocol "+U+":",V.ERR_BAD_REQUEST,n));return}C.send(s||null)})},bh=(n,o)=>{const{length:e}=n=n?n.filter(Boolean):[];if(o||e){let c=new AbortController,r;const s=function(v){if(!r){r=!0,d();const g=v instanceof Error?v:this.reason;c.abort(g instanceof V?g:new pn(g instanceof Error?g.message:g))}};let u=o&&setTimeout(()=>{u=null,s(new V(`timeout ${o} of ms exceeded`,V.ETIMEDOUT))},o);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(s):v.removeEventListener("abort",s)}),n=null)};n.forEach(v=>v.addEventListener("abort",s));const{signal:p}=c;return p.unsubscribe=()=>M.asap(d),p}},xh=function*(n,o){let e=n.byteLength;if(e<o){yield n;return}let c=0,r;for(;c<e;)r=c+o,yield n.slice(c,r),c=r},Eh=async function*(n,o){for await(const e of Mh(n))yield*xh(e,o)},Mh=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const o=n.getReader();try{for(;;){const{done:e,value:c}=await o.read();if(e)break;yield c}}finally{await o.cancel()}},es=(n,o,e,c)=>{const r=Eh(n,o);let s=0,u,d=p=>{u||(u=!0,c&&c(p))};return new ReadableStream({async pull(p){try{const{done:v,value:g}=await r.next();if(v){d(),p.close();return}let x=g.byteLength;if(e){let D=s+=x;e(D)}p.enqueue(new Uint8Array(g))}catch(v){throw d(v),v}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},oo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Zs=oo&&typeof ReadableStream=="function",Th=oo&&(typeof TextEncoder=="function"?(n=>o=>n.encode(o))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Us=(n,...o)=>{try{return!!n(...o)}catch{return!1}},Ch=Zs&&Us(()=>{let n=!1;const o=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!o}),ns=64*1024,ur=Zs&&Us(()=>M.isReadableStream(new Response("").body)),Vi={stream:ur&&(n=>n.body)};oo&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!Vi[o]&&(Vi[o]=M.isFunction(n[o])?e=>e[o]():(e,c)=>{throw new V(`Response type '${o}' is not supported`,V.ERR_NOT_SUPPORT,c)})})})(new Response);const Ph=async n=>{if(n==null)return 0;if(M.isBlob(n))return n.size;if(M.isSpecCompliantForm(n))return(await new Request(Nt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(M.isArrayBufferView(n)||M.isArrayBuffer(n))return n.byteLength;if(M.isURLSearchParams(n)&&(n=n+""),M.isString(n))return(await Th(n)).byteLength},kh=async(n,o)=>{const e=M.toFiniteNumber(n.getContentLength());return e??Ph(o)},Dh=oo&&(async n=>{let{url:o,method:e,data:c,signal:r,cancelToken:s,timeout:u,onDownloadProgress:d,onUploadProgress:p,responseType:v,headers:g,withCredentials:x="same-origin",fetchOptions:D}=Hs(n);v=v?(v+"").toLowerCase():"text";let I=bh([r,s&&s.toAbortSignal()],u),S;const P=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let C;try{if(p&&Ch&&e!=="get"&&e!=="head"&&(C=await kh(g,c))!==0){let ot=new Request(o,{method:"POST",body:c,duplex:"half"}),at;if(M.isFormData(c)&&(at=ot.headers.get("content-type"))&&g.setContentType(at),ot.body){const[_t,xt]=Xa(C,qi(Qa(p)));c=es(ot.body,ns,_t,xt)}}M.isString(x)||(x=x?"include":"omit");const H="credentials"in Request.prototype;S=new Request(o,{...D,signal:I,method:e.toUpperCase(),headers:g.normalize().toJSON(),body:c,duplex:"half",credentials:H?x:void 0});let U=await fetch(S);const Z=ur&&(v==="stream"||v==="response");if(ur&&(d||Z&&P)){const ot={};["status","statusText","headers"].forEach(jt=>{ot[jt]=U[jt]});const at=M.toFiniteNumber(U.headers.get("content-length")),[_t,xt]=d&&Xa(at,qi(Qa(d),!0))||[];U=new Response(es(U.body,ns,_t,()=>{xt&&xt(),P&&P()}),ot)}v=v||"text";let et=await Vi[M.findKey(Vi,v)||"text"](U,n);return!Z&&P&&P(),await new Promise((ot,at)=>{Bs(ot,at,{data:et,headers:Bt.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:S})})}catch(H){throw P&&P(),H&&H.name==="TypeError"&&/fetch/i.test(H.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,n,S),{cause:H.cause||H}):V.from(H,H&&H.code,n,S)}}),cr={http:Gc,xhr:Lh,fetch:Dh};M.forEach(cr,(n,o)=>{if(n){try{Object.defineProperty(n,"name",{value:o})}catch{}Object.defineProperty(n,"adapterName",{value:o})}});const is=n=>`- ${n}`,Sh=n=>M.isFunction(n)||n===null||n===!1,js={getAdapter:n=>{n=M.isArray(n)?n:[n];const{length:o}=n;let e,c;const r={};for(let s=0;s<o;s++){e=n[s];let u;if(c=e,!Sh(e)&&(c=cr[(u=String(e)).toLowerCase()],c===void 0))throw new V(`Unknown adapter '${u}'`);if(c)break;r[u||"#"+s]=c}if(!c){const s=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=o?s.length>1?`since :
`+s.map(is).join(`
`):" "+is(s[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return c},adapters:cr};function $o(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new pn(null,n)}function os(n){return $o(n),n.headers=Bt.from(n.headers),n.data=Vo.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),js.getAdapter(n.adapter||ti.adapter)(n).then(function(c){return $o(n),c.data=Vo.call(n,n.transformResponse,c),c.headers=Bt.from(c.headers),c},function(c){return Ns(c)||($o(n),c&&c.response&&(c.response.data=Vo.call(n,n.transformResponse,c.response),c.response.headers=Bt.from(c.response.headers))),Promise.reject(c)})}const Ws="1.7.7",Rr={};["object","boolean","number","function","string","symbol"].forEach((n,o)=>{Rr[n]=function(c){return typeof c===n||"a"+(o<1?"n ":" ")+n}});const rs={};Rr.transitional=function(o,e,c){function r(s,u){return"[Axios v"+Ws+"] Transitional option '"+s+"'"+u+(c?". "+c:"")}return(s,u,d)=>{if(o===!1)throw new V(r(u," has been removed"+(e?" in "+e:"")),V.ERR_DEPRECATED);return e&&!rs[u]&&(rs[u]=!0,console.warn(r(u," has been deprecated since v"+e+" and will be removed in the near future"))),o?o(s,u,d):!0}};function Oh(n,o,e){if(typeof n!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let r=c.length;for(;r-- >0;){const s=c[r],u=o[s];if(u){const d=n[s],p=d===void 0||u(d,s,n);if(p!==!0)throw new V("option "+s+" must be "+p,V.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new V("Unknown option "+s,V.ERR_BAD_OPTION)}}const hr={assertOptions:Oh,validators:Rr},Le=hr.validators;class Be{constructor(o){this.defaults=o,this.interceptors={request:new Ka,response:new Ka}}async request(o,e){try{return await this._request(o,e)}catch(c){if(c instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{c.stack?s&&!String(c.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+s):c.stack=s}catch{}}throw c}}_request(o,e){typeof o=="string"?(e=e||{},e.url=o):e=o||{},e=je(this.defaults,e);const{transitional:c,paramsSerializer:r,headers:s}=e;c!==void 0&&hr.assertOptions(c,{silentJSONParsing:Le.transitional(Le.boolean),forcedJSONParsing:Le.transitional(Le.boolean),clarifyTimeoutError:Le.transitional(Le.boolean)},!1),r!=null&&(M.isFunction(r)?e.paramsSerializer={serialize:r}:hr.assertOptions(r,{encode:Le.function,serialize:Le.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let u=s&&M.merge(s.common,s[e.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),e.headers=Bt.concat(u,s);const d=[];let p=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(e)===!1||(p=p&&P.synchronous,d.unshift(P.fulfilled,P.rejected))});const v=[];this.interceptors.response.forEach(function(P){v.push(P.fulfilled,P.rejected)});let g,x=0,D;if(!p){const S=[os.bind(this),void 0];for(S.unshift.apply(S,d),S.push.apply(S,v),D=S.length,g=Promise.resolve(e);x<D;)g=g.then(S[x++],S[x++]);return g}D=d.length;let I=e;for(x=0;x<D;){const S=d[x++],P=d[x++];try{I=S(I)}catch(C){P.call(this,C);break}}try{g=os.call(this,I)}catch(S){return Promise.reject(S)}for(x=0,D=v.length;x<D;)g=g.then(v[x++],v[x++]);return g}getUri(o){o=je(this.defaults,o);const e=Fs(o.baseURL,o.url);return Is(e,o.params,o.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(o){Be.prototype[o]=function(e,c){return this.request(je(c||{},{method:o,url:e,data:(c||{}).data}))}});M.forEach(["post","put","patch"],function(o){function e(c){return function(s,u,d){return this.request(je(d||{},{method:o,headers:c?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Be.prototype[o]=e(),Be.prototype[o+"Form"]=e(!0)});class zr{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const c=this;this.promise.then(r=>{if(!c._listeners)return;let s=c._listeners.length;for(;s-- >0;)c._listeners[s](r);c._listeners=null}),this.promise.then=r=>{let s;const u=new Promise(d=>{c.subscribe(d),s=d}).then(r);return u.cancel=function(){c.unsubscribe(s)},u},o(function(s,u,d){c.reason||(c.reason=new pn(s,u,d),e(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const e=this._listeners.indexOf(o);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const o=new AbortController,e=c=>{o.abort(c)};return this.subscribe(e),o.signal.unsubscribe=()=>this.unsubscribe(e),o.signal}static source(){let o;return{token:new zr(function(r){o=r}),cancel:o}}}function Ah(n){return function(e){return n.apply(null,e)}}function Ih(n){return M.isObject(n)&&n.isAxiosError===!0}const dr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dr).forEach(([n,o])=>{dr[o]=n});function Gs(n){const o=new Be(n),e=bs(Be.prototype.request,o);return M.extend(e,Be.prototype,o,{allOwnKeys:!0}),M.extend(e,o,null,{allOwnKeys:!0}),e.create=function(r){return Gs(je(n,r))},e}const vt=Gs(ti);vt.Axios=Be;vt.CanceledError=pn;vt.CancelToken=zr;vt.isCancel=Ns;vt.VERSION=Ws;vt.toFormData=io;vt.AxiosError=V;vt.Cancel=vt.CanceledError;vt.all=function(o){return Promise.all(o)};vt.spread=Ah;vt.isAxiosError=Ih;vt.mergeConfig=je;vt.AxiosHeaders=Bt;vt.formToJSON=n=>zs(M.isHTMLForm(n)?new FormData(n):n);vt.getAdapter=js.getAdapter;vt.HttpStatusCode=dr;vt.default=vt;window.axios=vt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ko=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],un={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var o=new Date(n.getTime());o.setHours(0,0,0,0),o.setDate(o.getDate()+3-(o.getDay()+6)%7);var e=new Date(o.getFullYear(),0,4);return 1+Math.round(((o.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Jn={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var o=n%100;if(o>3&&o<21)return"th";switch(o%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},zt=function(n,o){return o===void 0&&(o=2),("000"+n).slice(o*-1)},Vt=function(n){return n===!0?1:0};function as(n,o){var e;return function(){var c=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(c,r)},o)}}var Jo=function(n){return n instanceof Array?n:[n]};function Ot(n,o,e){if(e===!0)return n.classList.add(o);n.classList.remove(o)}function it(n,o,e){var c=window.document.createElement(n);return o=o||"",e=e||"",c.className=o,e!==void 0&&(c.textContent=e),c}function zi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ys(n,o){if(o(n))return n;if(n.parentNode)return Ys(n.parentNode,o)}function Ni(n,o){var e=it("div","numInputWrapper"),c=it("input","numInput "+n),r=it("span","arrowUp"),s=it("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?c.type="number":(c.type="text",c.pattern="\\d*"),o!==void 0)for(var u in o)c.setAttribute(u,o[u]);return e.appendChild(c),e.appendChild(r),e.appendChild(s),e}function Ht(n){try{if(typeof n.composedPath=="function"){var o=n.composedPath();return o[0]}return n.target}catch{return n.target}}var Xo=function(){},$i=function(n,o,e){return e.months[o?"shorthand":"longhand"][n]},Rh={D:Xo,F:function(n,o,e){n.setMonth(e.months.longhand.indexOf(o))},G:function(n,o){n.setHours((n.getHours()>=12?12:0)+parseFloat(o))},H:function(n,o){n.setHours(parseFloat(o))},J:function(n,o){n.setDate(parseFloat(o))},K:function(n,o,e){n.setHours(n.getHours()%12+12*Vt(new RegExp(e.amPM[1],"i").test(o)))},M:function(n,o,e){n.setMonth(e.months.shorthand.indexOf(o))},S:function(n,o){n.setSeconds(parseFloat(o))},U:function(n,o){return new Date(parseFloat(o)*1e3)},W:function(n,o,e){var c=parseInt(o),r=new Date(n.getFullYear(),0,2+(c-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,o){n.setFullYear(parseFloat(o))},Z:function(n,o){return new Date(o)},d:function(n,o){n.setDate(parseFloat(o))},h:function(n,o){n.setHours((n.getHours()>=12?12:0)+parseFloat(o))},i:function(n,o){n.setMinutes(parseFloat(o))},j:function(n,o){n.setDate(parseFloat(o))},l:Xo,m:function(n,o){n.setMonth(parseFloat(o)-1)},n:function(n,o){n.setMonth(parseFloat(o)-1)},s:function(n,o){n.setSeconds(parseFloat(o))},u:function(n,o){return new Date(parseFloat(o))},w:Xo,y:function(n,o){n.setFullYear(2e3+parseFloat(o))}},Re={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},qn={Z:function(n){return n.toISOString()},D:function(n,o,e){return o.weekdays.shorthand[qn.w(n,o,e)]},F:function(n,o,e){return $i(qn.n(n,o,e)-1,!1,o)},G:function(n,o,e){return zt(qn.h(n,o,e))},H:function(n){return zt(n.getHours())},J:function(n,o){return o.ordinal!==void 0?n.getDate()+o.ordinal(n.getDate()):n.getDate()},K:function(n,o){return o.amPM[Vt(n.getHours()>11)]},M:function(n,o){return $i(n.getMonth(),!0,o)},S:function(n){return zt(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,o,e){return e.getWeek(n)},Y:function(n){return zt(n.getFullYear(),4)},d:function(n){return zt(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return zt(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,o){return o.weekdays.longhand[n.getDay()]},m:function(n){return zt(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},qs=function(n){var o=n.config,e=o===void 0?un:o,c=n.l10n,r=c===void 0?Jn:c,s=n.isMobile,u=s===void 0?!1:s;return function(d,p,v){var g=v||r;return e.formatDate!==void 0&&!u?e.formatDate(d,p,g):p.split("").map(function(x,D,I){return qn[x]&&I[D-1]!=="\\"?qn[x](d,g,e):x!=="\\"?x:""}).join("")}},fr=function(n){var o=n.config,e=o===void 0?un:o,c=n.l10n,r=c===void 0?Jn:c;return function(s,u,d,p){if(!(s!==0&&!s)){var v=p||r,g,x=s;if(s instanceof Date)g=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)g=new Date(s);else if(typeof s=="string"){var D=u||(e||un).dateFormat,I=String(s).trim();if(I==="today")g=new Date,d=!0;else if(e&&e.parseDate)g=e.parseDate(s,D);else if(/Z$/.test(I)||/GMT$/.test(I))g=new Date(s);else{for(var S=void 0,P=[],C=0,H=0,U="";C<D.length;C++){var Z=D[C],et=Z==="\\",ot=D[C-1]==="\\"||et;if(Re[Z]&&!ot){U+=Re[Z];var at=new RegExp(U).exec(s);at&&(S=!0)&&P[Z!=="Y"?"push":"unshift"]({fn:Rh[Z],val:at[++H]})}else et||(U+=".")}g=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),P.forEach(function(_t){var xt=_t.fn,jt=_t.val;return g=xt(g,jt,v)||g}),g=S?g:void 0}}if(!(g instanceof Date&&!isNaN(g.getTime()))){e.errorHandler(new Error("Invalid date provided: "+x));return}return d===!0&&g.setHours(0,0,0,0),g}}};function Zt(n,o,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(o.getTime()).setHours(0,0,0,0):n.getTime()-o.getTime()}var zh=function(n,o,e){return n>Math.min(o,e)&&n<Math.max(o,e)},Qo=function(n,o,e){return n*3600+o*60+e},Nh=function(n){var o=Math.floor(n/3600),e=(n-o*3600)/60;return[o,e,n-o*3600-e*60]},Bh={DAY:864e5};function tr(n){var o=n.defaultHour,e=n.defaultMinute,c=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),u=n.minDate.getSeconds();o<r&&(o=r),o===r&&e<s&&(e=s),o===r&&e===s&&c<u&&(c=n.minDate.getSeconds())}if(n.maxDate!==void 0){var d=n.maxDate.getHours(),p=n.maxDate.getMinutes();o=Math.min(o,d),o===d&&(e=Math.min(p,e)),o===d&&e===p&&(c=n.maxDate.getSeconds())}return{hours:o,minutes:e,seconds:c}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var c=function(d){d&&Object.keys(d).forEach(function(p){return n[p]=d[p]})},r=0,s=o;r<s.length;r++){var u=s[r];c(u)}return n});var kt=function(){return kt=Object.assign||function(n){for(var o,e=1,c=arguments.length;e<c;e++){o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},kt.apply(this,arguments)},ss=function(){for(var n=0,o=0,e=arguments.length;o<e;o++)n+=arguments[o].length;for(var c=Array(n),r=0,o=0;o<e;o++)for(var s=arguments[o],u=0,d=s.length;u<d;u++,r++)c[r]=s[u];return c},Fh=300;function Hh(n,o){var e={config:kt(kt({},un),ct.defaultConfig),l10n:Jn};e.parseDate=fr({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=P,e._setHoursFromDate=D,e._positionCalendar=Ve,e.changeMonth=rt,e.changeYear=It,e.clear=Mt,e.close=Tt,e.onMouseOver=ie,e._createElement=it,e.createDay=at,e.destroy=ft,e.isEnabled=Ct,e.jumpToDate=U,e.updateValue=Wt,e.open=fo,e.redraw=En,e.set=Mn,e.setDate=ui,e.toggle=Cn;function c(){e.utils={getDaysInMonth:function(_,m){return _===void 0&&(_=e.currentMonth),m===void 0&&(m=e.currentYear),_===1&&(m%4===0&&m%100!==0||m%400===0)?29:e.l10n.daysInMonth[_]}}}function r(){e.element=e.input=n,e.isOpen=!1,ai(),Pe(),di(),hi(),c(),e.isMobile||ot(),H(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&D(e.config.noCalendar?e.latestSelectedDateObj:void 0),Wt(!1)),d();var _=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&_&&Ve(),st("onReady")}function s(){var _;return((_=e.calendarContainer)===null||_===void 0?void 0:_.getRootNode()).activeElement||document.activeElement}function u(_){return _.bind(e)}function d(){var _=e.config;_.weekNumbers===!1&&_.showMonths===1||_.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var m=(e.days.offsetWidth+1)*_.showMonths;e.daysContainer.style.width=m+"px",e.calendarContainer.style.width=m+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function p(_){if(e.selectedDates.length===0){var m=e.config.minDate===void 0||Zt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),w=tr(e.config);m.setHours(w.hours,w.minutes,w.seconds,m.getMilliseconds()),e.selectedDates=[m],e.latestSelectedDateObj=m}_!==void 0&&_.type!=="blur"&&_o(_);var T=e._input.value;x(),Wt(),e._input.value!==T&&e._debouncedChange()}function v(_,m){return _%12+12*Vt(m===e.l10n.amPM[1])}function g(_){switch(_%24){case 0:case 12:return 12;default:return _%12}}function x(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var _=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,m=(parseInt(e.minuteElement.value,10)||0)%60,w=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(_=v(_,e.amPM.textContent));var T=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Zt(e.latestSelectedDateObj,e.config.minDate,!0)===0,O=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Zt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var R=Qo(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),Y=Qo(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),B=Qo(_,m,w);if(B>Y&&B<R){var $=Nh(R);_=$[0],m=$[1],w=$[2]}}else{if(O){var N=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;_=Math.min(_,N.getHours()),_===N.getHours()&&(m=Math.min(m,N.getMinutes())),m===N.getMinutes()&&(w=Math.min(w,N.getSeconds()))}if(T){var F=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;_=Math.max(_,F.getHours()),_===F.getHours()&&m<F.getMinutes()&&(m=F.getMinutes()),m===F.getMinutes()&&(w=Math.max(w,F.getSeconds()))}}I(_,m,w)}}function D(_){var m=_||e.latestSelectedDateObj;m&&m instanceof Date&&I(m.getHours(),m.getMinutes(),m.getSeconds())}function I(_,m,w){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(_%24,m,w||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=zt(e.config.time_24hr?_:(12+_)%12+12*Vt(_%12===0)),e.minuteElement.value=zt(m),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Vt(_>=12)]),e.secondElement!==void 0&&(e.secondElement.value=zt(w)))}function S(_){var m=Ht(_),w=parseInt(m.value)+(_.delta||0);(w/1e3>1||_.key==="Enter"&&!/[^\d]/.test(w.toString()))&&It(w)}function P(_,m,w,T){if(m instanceof Array)return m.forEach(function(O){return P(_,O,w,T)});if(_ instanceof Array)return _.forEach(function(O){return P(O,m,w,T)});_.addEventListener(m,w,T),e._handlers.push({remove:function(){return _.removeEventListener(m,w,T)}})}function C(){st("onChange")}function H(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(w){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+w+"]"),function(T){return P(T,"click",e[w])})}),e.isMobile){pi();return}var _=as(Ln,50);if(e._debouncedChange=as(C,Fh),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(e.daysContainer,"mouseover",function(w){e.config.mode==="range"&&ie(Ht(w))}),P(e._input,"keydown",Ye),e.calendarContainer!==void 0&&P(e.calendarContainer,"keydown",Ye),!e.config.inline&&!e.config.static&&P(window,"resize",_),window.ontouchstart!==void 0?P(window.document,"touchstart",J):P(window.document,"mousedown",J),P(window.document,"focus",J,{capture:!0}),e.config.clickOpens===!0&&(P(e._input,"focus",e.open),P(e._input,"click",e.open)),e.daysContainer!==void 0&&(P(e.monthNav,"click",_i),P(e.monthNav,["keyup","increment"],S),P(e.daysContainer,"click",li)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var m=function(w){return Ht(w).select()};P(e.timeContainer,["increment"],p),P(e.timeContainer,"blur",p,{capture:!0}),P(e.timeContainer,"click",Z),P([e.hourElement,e.minuteElement],["focus","click"],m),e.secondElement!==void 0&&P(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&P(e.amPM,"click",function(w){p(w)})}e.config.allowInput&&P(e._input,"blur",wn)}function U(_,m){var w=_!==void 0?e.parseDate(_):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),T=e.currentYear,O=e.currentMonth;try{w!==void 0&&(e.currentYear=w.getFullYear(),e.currentMonth=w.getMonth())}catch(R){R.message="Invalid date supplied: "+w,e.config.errorHandler(R)}m&&e.currentYear!==T&&(st("onYearChange"),me()),m&&(e.currentYear!==T||e.currentMonth!==O)&&st("onMonthChange"),e.redraw()}function Z(_){var m=Ht(_);~m.className.indexOf("arrow")&&et(_,m.classList.contains("arrowUp")?1:-1)}function et(_,m,w){var T=_&&Ht(_),O=w||T&&T.parentNode&&T.parentNode.firstChild,R=Pn("increment");R.delta=m,O&&O.dispatchEvent(R)}function ot(){var _=window.document.createDocumentFragment();if(e.calendarContainer=it("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(_.appendChild(Dt()),e.innerContainer=it("div","flatpickr-innerContainer"),e.config.weekNumbers){var m=W(),w=m.weekWrapper,T=m.weekNumbers;e.innerContainer.appendChild(w),e.weekNumbers=T,e.weekWrapper=w}e.rContainer=it("div","flatpickr-rContainer"),e.rContainer.appendChild(G()),e.daysContainer||(e.daysContainer=it("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Lt(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),_.appendChild(e.innerContainer)}e.config.enableTime&&_.appendChild(Te()),Ot(e.calendarContainer,"rangeMode",e.config.mode==="range"),Ot(e.calendarContainer,"animate",e.config.animate===!0),Ot(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(_);var O=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!O&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var R=it("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(R,e.element),R.appendChild(e.element),e.altInput&&R.appendChild(e.altInput),R.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function at(_,m,w,T){var O=Ct(m,!0),R=it("span",_,m.getDate().toString());return R.dateObj=m,R.$i=T,R.setAttribute("aria-label",e.formatDate(m,e.config.ariaDateFormat)),_.indexOf("hidden")===-1&&Zt(m,e.now)===0&&(e.todayDateElem=R,R.classList.add("today"),R.setAttribute("aria-current","date")),O?(R.tabIndex=-1,le(m)&&(R.classList.add("selected"),e.selectedDateElem=R,e.config.mode==="range"&&(Ot(R,"startRange",e.selectedDates[0]&&Zt(m,e.selectedDates[0],!0)===0),Ot(R,"endRange",e.selectedDates[1]&&Zt(m,e.selectedDates[1],!0)===0),_==="nextMonthDay"&&R.classList.add("inRange")))):R.classList.add("flatpickr-disabled"),e.config.mode==="range"&&po(m)&&!le(m)&&R.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&_!=="prevMonthDay"&&T%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(m)+"</span>"),st("onDayCreate",R),R}function _t(_){_.focus(),e.config.mode==="range"&&ie(_)}function xt(_){for(var m=_>0?0:e.config.showMonths-1,w=_>0?e.config.showMonths:-1,T=m;T!=w;T+=_)for(var O=e.daysContainer.children[T],R=_>0?0:O.children.length-1,Y=_>0?O.children.length:-1,B=R;B!=Y;B+=_){var $=O.children[B];if($.className.indexOf("hidden")===-1&&Ct($.dateObj))return $}}function jt(_,m){for(var w=_.className.indexOf("Month")===-1?_.dateObj.getMonth():e.currentMonth,T=m>0?e.config.showMonths:-1,O=m>0?1:-1,R=w-e.currentMonth;R!=T;R+=O)for(var Y=e.daysContainer.children[R],B=w-e.currentMonth===R?_.$i+m:m<0?Y.children.length-1:0,$=Y.children.length,N=B;N>=0&&N<$&&N!=(m>0?$:-1);N+=O){var F=Y.children[N];if(F.className.indexOf("hidden")===-1&&Ct(F.dateObj)&&Math.abs(_.$i-N)>=Math.abs(m))return _t(F)}e.changeMonth(O),ne(xt(O),0)}function ne(_,m){var w=s(),T=Ce(w||document.body),O=_!==void 0?_:T?w:e.selectedDateElem!==void 0&&Ce(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Ce(e.todayDateElem)?e.todayDateElem:xt(m>0?1:-1);O===void 0?e._input.focus():T?jt(O,m):_t(O)}function Et(_,m){for(var w=(new Date(_,m,1).getDay()-e.l10n.firstDayOfWeek+7)%7,T=e.utils.getDaysInMonth((m-1+12)%12,_),O=e.utils.getDaysInMonth(m,_),R=window.document.createDocumentFragment(),Y=e.config.showMonths>1,B=Y?"prevMonthDay hidden":"prevMonthDay",$=Y?"nextMonthDay hidden":"nextMonthDay",N=T+1-w,F=0;N<=T;N++,F++)R.appendChild(at("flatpickr-day "+B,new Date(_,m-1,N),N,F));for(N=1;N<=O;N++,F++)R.appendChild(at("flatpickr-day",new Date(_,m,N),N,F));for(var A=O+1;A<=42-w&&(e.config.showMonths===1||F%7!==0);A++,F++)R.appendChild(at("flatpickr-day "+$,new Date(_,m+1,A%O),A,F));var Ft=it("div","dayContainer");return Ft.appendChild(R),Ft}function Lt(){if(e.daysContainer!==void 0){zi(e.daysContainer),e.weekNumbers&&zi(e.weekNumbers);for(var _=document.createDocumentFragment(),m=0;m<e.config.showMonths;m++){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),_.appendChild(Et(w.getFullYear(),w.getMonth()))}e.daysContainer.appendChild(_),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&ie()}}function me(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var _=function(T){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&T<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&T>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var m=0;m<12;m++)if(_(m)){var w=it("option","flatpickr-monthDropdown-month");w.value=new Date(e.currentYear,m).getMonth().toString(),w.textContent=$i(m,e.config.shorthandCurrentMonth,e.l10n),w.tabIndex=-1,e.currentMonth===m&&(w.selected=!0),e.monthsDropdownContainer.appendChild(w)}}}function Kt(){var _=it("div","flatpickr-month"),m=window.document.createDocumentFragment(),w;e.config.showMonths>1||e.config.monthSelectorType==="static"?w=it("span","cur-month"):(e.monthsDropdownContainer=it("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),P(e.monthsDropdownContainer,"change",function(Y){var B=Ht(Y),$=parseInt(B.value,10);e.changeMonth($-e.currentMonth),st("onMonthChange")}),me(),w=e.monthsDropdownContainer);var T=Ni("cur-year",{tabindex:"-1"}),O=T.getElementsByTagName("input")[0];O.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&O.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(O.setAttribute("max",e.config.maxDate.getFullYear().toString()),O.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var R=it("div","flatpickr-current-month");return R.appendChild(w),R.appendChild(T),m.appendChild(R),_.appendChild(m),{container:_,yearElement:O,monthElement:w}}function ri(){zi(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var _=e.config.showMonths;_--;){var m=Kt();e.yearElements.push(m.yearElement),e.monthElements.push(m.monthElement),e.monthNav.appendChild(m.container)}e.monthNav.appendChild(e.nextMonthNav)}function Dt(){return e.monthNav=it("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=it("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=it("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,ri(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(_){e.__hidePrevMonthArrow!==_&&(Ot(e.prevMonthNav,"flatpickr-disabled",_),e.__hidePrevMonthArrow=_)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(_){e.__hideNextMonthArrow!==_&&(Ot(e.nextMonthNav,"flatpickr-disabled",_),e.__hideNextMonthArrow=_)}}),e.currentYearElement=e.yearElements[0],Je(),e.monthNav}function Te(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var _=tr(e.config);e.timeContainer=it("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var m=it("span","flatpickr-time-separator",":"),w=Ni("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=w.getElementsByTagName("input")[0];var T=Ni("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=T.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=zt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?_.hours:g(_.hours)),e.minuteElement.value=zt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():_.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(w),e.timeContainer.appendChild(m),e.timeContainer.appendChild(T),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var O=Ni("flatpickr-second");e.secondElement=O.getElementsByTagName("input")[0],e.secondElement.value=zt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():_.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(it("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(O)}return e.config.time_24hr||(e.amPM=it("span","flatpickr-am-pm",e.l10n.amPM[Vt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function G(){e.weekdayContainer?zi(e.weekdayContainer):e.weekdayContainer=it("div","flatpickr-weekdays");for(var _=e.config.showMonths;_--;){var m=it("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(m)}return yn(),e.weekdayContainer}function yn(){if(e.weekdayContainer){var _=e.l10n.firstDayOfWeek,m=ss(e.l10n.weekdays.shorthand);_>0&&_<m.length&&(m=ss(m.splice(_,m.length),m.splice(0,_)));for(var w=e.config.showMonths;w--;)e.weekdayContainer.children[w].innerHTML=`
      <span class='flatpickr-weekday'>
        `+m.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function W(){e.calendarContainer.classList.add("hasWeeks");var _=it("div","flatpickr-weekwrapper");_.appendChild(it("span","flatpickr-weekday",e.l10n.weekAbbreviation));var m=it("div","flatpickr-weeks");return _.appendChild(m),{weekWrapper:_,weekNumbers:m}}function rt(_,m){m===void 0&&(m=!0);var w=m?_:_-e.currentMonth;w<0&&e._hidePrevMonthArrow===!0||w>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=w,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,st("onYearChange"),me()),Lt(),st("onMonthChange"),Je())}function Mt(_,m){if(_===void 0&&(_=!0),m===void 0&&(m=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,m===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var w=tr(e.config),T=w.hours,O=w.minutes,R=w.seconds;I(T,O,R)}e.redraw(),_&&st("onChange")}function Tt(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),st("onClose")}function ft(){e.config!==void 0&&st("onDestroy");for(var _=e._handlers.length;_--;)e._handlers[_].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var m=e.calendarContainer.parentNode;if(m.lastChild&&m.removeChild(m.lastChild),m.parentNode){for(;m.firstChild;)m.parentNode.insertBefore(m.firstChild,m);m.parentNode.removeChild(m)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(w){try{delete e[w]}catch{}})}function Q(_){return e.calendarContainer.contains(_)}function J(_){if(e.isOpen&&!e.config.inline){var m=Ht(_),w=Q(m),T=m===e.input||m===e.altInput||e.element.contains(m)||_.path&&_.path.indexOf&&(~_.path.indexOf(e.input)||~_.path.indexOf(e.altInput)),O=!T&&!w&&!Q(_.relatedTarget),R=!e.config.ignoredFocusElements.some(function(Y){return Y.contains(m)});O&&R&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&p(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function It(_){if(!(!_||e.config.minDate&&_<e.config.minDate.getFullYear()||e.config.maxDate&&_>e.config.maxDate.getFullYear())){var m=_,w=e.currentYear!==m;e.currentYear=m||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),w&&(e.redraw(),st("onYearChange"),me())}}function Ct(_,m){var w;m===void 0&&(m=!0);var T=e.parseDate(_,void 0,m);if(e.config.minDate&&T&&Zt(T,e.config.minDate,m!==void 0?m:!e.minDateHasTime)<0||e.config.maxDate&&T&&Zt(T,e.config.maxDate,m!==void 0?m:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(T===void 0)return!1;for(var O=!!e.config.enable,R=(w=e.config.enable)!==null&&w!==void 0?w:e.config.disable,Y=0,B=void 0;Y<R.length;Y++){if(B=R[Y],typeof B=="function"&&B(T))return O;if(B instanceof Date&&T!==void 0&&B.getTime()===T.getTime())return O;if(typeof B=="string"){var $=e.parseDate(B,void 0,!0);return $&&$.getTime()===T.getTime()?O:!O}else if(typeof B=="object"&&T!==void 0&&B.from&&B.to&&T.getTime()>=B.from.getTime()&&T.getTime()<=B.to.getTime())return O}return!O}function Ce(_){return e.daysContainer!==void 0?_.className.indexOf("hidden")===-1&&_.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(_):!1}function wn(_){var m=_.target===e._input,w=e._input.value.trimEnd()!==Xe();m&&w&&!(_.relatedTarget&&Q(_.relatedTarget))&&e.setDate(e._input.value,!0,_.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Ye(_){var m=Ht(_),w=e.config.wrap?n.contains(m):m===e._input,T=e.config.allowInput,O=e.isOpen&&(!T||!w),R=e.config.inline&&w&&!T;if(_.keyCode===13&&w){if(T)return e.setDate(e._input.value,!0,m===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),m.blur();e.open()}else if(Q(m)||O||R){var Y=!!e.timeContainer&&e.timeContainer.contains(m);switch(_.keyCode){case 13:Y?(_.preventDefault(),p(),$e()):li(_);break;case 27:_.preventDefault(),$e();break;case 8:case 46:w&&!e.config.allowInput&&(_.preventDefault(),e.clear());break;case 37:case 39:if(!Y&&!w){_.preventDefault();var B=s();if(e.daysContainer!==void 0&&(T===!1||B&&Ce(B))){var $=_.keyCode===39?1:-1;_.ctrlKey?(_.stopPropagation(),rt($),ne(xt(1),0)):ne(void 0,$)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:_.preventDefault();var N=_.keyCode===40?1:-1;e.daysContainer&&m.$i!==void 0||m===e.input||m===e.altInput?_.ctrlKey?(_.stopPropagation(),It(e.currentYear-N),ne(xt(1),0)):Y||ne(void 0,N*7):m===e.currentYearElement?It(e.currentYear-N):e.config.enableTime&&(!Y&&e.hourElement&&e.hourElement.focus(),p(_),e._debouncedChange());break;case 9:if(Y){var F=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Pt){return Pt}),A=F.indexOf(m);if(A!==-1){var Ft=F[A+(_.shiftKey?-1:1)];_.preventDefault(),(Ft||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(m)&&_.shiftKey&&(_.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&m===e.amPM)switch(_.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],x(),Wt();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],x(),Wt();break}(w||Q(m))&&st("onKeyDown",_)}function ie(_,m){if(m===void 0&&(m="flatpickr-day"),!(e.selectedDates.length!==1||_&&(!_.classList.contains(m)||_.classList.contains("flatpickr-disabled")))){for(var w=_?_.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),T=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),O=Math.min(w,e.selectedDates[0].getTime()),R=Math.max(w,e.selectedDates[0].getTime()),Y=!1,B=0,$=0,N=O;N<R;N+=Bh.DAY)Ct(new Date(N),!0)||(Y=Y||N>O&&N<R,N<T&&(!B||N>B)?B=N:N>T&&(!$||N<$)&&($=N));var F=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+m));F.forEach(function(A){var Ft=A.dateObj,Pt=Ft.getTime(),ge=B>0&&Pt<B||$>0&&Pt>$;if(ge){A.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ue){A.classList.remove(ue)});return}else if(Y&&!ge)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ue){A.classList.remove(ue)}),_!==void 0&&(_.classList.add(w<=e.selectedDates[0].getTime()?"startRange":"endRange"),T<w&&Pt===T?A.classList.add("startRange"):T>w&&Pt===T&&A.classList.add("endRange"),Pt>=B&&($===0||Pt<=$)&&zh(Pt,T,w)&&A.classList.add("inRange"))})}}function Ln(){e.isOpen&&!e.config.static&&!e.config.inline&&Ve()}function fo(_,m){if(m===void 0&&(m=e._positionElement),e.isMobile===!0){if(_){_.preventDefault();var w=Ht(_);w&&w.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),st("onOpen");return}else if(e._input.disabled||e.config.inline)return;var T=e.isOpen;e.isOpen=!0,T||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),st("onOpen"),Ve(m)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(_===void 0||!e.timeContainer.contains(_.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function bn(_){return function(m){var w=e.config["_"+_+"Date"]=e.parseDate(m,e.config.dateFormat),T=e.config["_"+(_==="min"?"max":"min")+"Date"];w!==void 0&&(e[_==="min"?"minDateHasTime":"maxDateHasTime"]=w.getHours()>0||w.getMinutes()>0||w.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(O){return Ct(O)}),!e.selectedDates.length&&_==="min"&&D(w),Wt()),e.daysContainer&&(En(),w!==void 0?e.currentYearElement[_]=w.getFullYear().toString():e.currentYearElement.removeAttribute(_),e.currentYearElement.disabled=!!T&&w!==void 0&&T.getFullYear()===w.getFullYear())}}function ai(){var _=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],m=kt(kt({},JSON.parse(JSON.stringify(n.dataset||{}))),o),w={};e.config.parseDate=m.parseDate,e.config.formatDate=m.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(F){e.config._enable=ci(F)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(F){e.config._disable=ci(F)}});var T=m.mode==="time";if(!m.dateFormat&&(m.enableTime||T)){var O=ct.defaultConfig.dateFormat||un.dateFormat;w.dateFormat=m.noCalendar||T?"H:i"+(m.enableSeconds?":S":""):O+" H:i"+(m.enableSeconds?":S":"")}if(m.altInput&&(m.enableTime||T)&&!m.altFormat){var R=ct.defaultConfig.altFormat||un.altFormat;w.altFormat=m.noCalendar||T?"h:i"+(m.enableSeconds?":S K":" K"):R+(" h:i"+(m.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:bn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:bn("max")});var Y=function(F){return function(A){e.config[F==="min"?"_minTime":"_maxTime"]=e.parseDate(A,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:Y("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:Y("max")}),m.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,w,m);for(var B=0;B<_.length;B++)e.config[_[B]]=e.config[_[B]]===!0||e.config[_[B]]==="true";Ko.filter(function(F){return e.config[F]!==void 0}).forEach(function(F){e.config[F]=Jo(e.config[F]||[]).map(u)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var B=0;B<e.config.plugins.length;B++){var $=e.config.plugins[B](e)||{};for(var N in $)Ko.indexOf(N)>-1?e.config[N]=Jo($[N]).map(u).concat(e.config[N]):typeof m[N]>"u"&&(e.config[N]=$[N])}m.altInputClass||(e.config.altInputClass=qe().className+" "+e.config.altInputClass),st("onParseConfig")}function qe(){return e.config.wrap?n.querySelector("[data-input]"):n}function Pe(){typeof e.config.locale!="object"&&typeof ct.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=kt(kt({},ct.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?ct.l10ns[e.config.locale]:void 0),Re.D="("+e.l10n.weekdays.shorthand.join("|")+")",Re.l="("+e.l10n.weekdays.longhand.join("|")+")",Re.M="("+e.l10n.months.shorthand.join("|")+")",Re.F="("+e.l10n.months.longhand.join("|")+")",Re.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var _=kt(kt({},o),JSON.parse(JSON.stringify(n.dataset||{})));_.time_24hr===void 0&&ct.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=qs(e),e.parseDate=fr({config:e.config,l10n:e.l10n})}function Ve(_){if(typeof e.config.position=="function")return void e.config.position(e,_);if(e.calendarContainer!==void 0){st("onPreCalendarPosition");var m=_||e._positionElement,w=Array.prototype.reduce.call(e.calendarContainer.children,function(gi,wo){return gi+wo.offsetHeight},0),T=e.calendarContainer.offsetWidth,O=e.config.position.split(" "),R=O[0],Y=O.length>1?O[1]:null,B=m.getBoundingClientRect(),$=window.innerHeight-B.bottom,N=R==="above"||R!=="below"&&$<w&&B.top>w,F=window.pageYOffset+B.top+(N?-w-2:m.offsetHeight+2);if(Ot(e.calendarContainer,"arrowTop",!N),Ot(e.calendarContainer,"arrowBottom",N),!e.config.inline){var A=window.pageXOffset+B.left,Ft=!1,Pt=!1;Y==="center"?(A-=(T-B.width)/2,Ft=!0):Y==="right"&&(A-=T-B.width,Pt=!0),Ot(e.calendarContainer,"arrowLeft",!Ft&&!Pt),Ot(e.calendarContainer,"arrowCenter",Ft),Ot(e.calendarContainer,"arrowRight",Pt);var ge=window.document.body.offsetWidth-(window.pageXOffset+B.right),ue=A+T>window.document.body.offsetWidth,kn=ge+T>window.document.body.offsetWidth;if(Ot(e.calendarContainer,"rightMost",ue),!e.config.static)if(e.calendarContainer.style.top=F+"px",!ue)e.calendarContainer.style.left=A+"px",e.calendarContainer.style.right="auto";else if(!kn)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ge+"px";else{var Qe=si();if(Qe===void 0)return;var ve=window.document.body.offsetWidth,mi=Math.max(0,ve/2-T/2),mo=".flatpickr-calendar.centerMost:before",go=".flatpickr-calendar.centerMost:after",vo=Qe.cssRules.length,yo="{left:"+B.left+"px;right:auto;}";Ot(e.calendarContainer,"rightMost",!1),Ot(e.calendarContainer,"centerMost",!0),Qe.insertRule(mo+","+go+yo,vo),e.calendarContainer.style.left=mi+"px",e.calendarContainer.style.right="auto"}}}}function si(){for(var _=null,m=0;m<document.styleSheets.length;m++){var w=document.styleSheets[m];if(w.cssRules){try{w.cssRules}catch{continue}_=w;break}}return _??xn()}function xn(){var _=document.createElement("style");return document.head.appendChild(_),_.sheet}function En(){e.config.noCalendar||e.isMobile||(me(),Je(),Lt())}function $e(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function li(_){_.preventDefault(),_.stopPropagation();var m=function(F){return F.classList&&F.classList.contains("flatpickr-day")&&!F.classList.contains("flatpickr-disabled")&&!F.classList.contains("notAllowed")},w=Ys(Ht(_),m);if(w!==void 0){var T=w,O=e.latestSelectedDateObj=new Date(T.dateObj.getTime()),R=(O.getMonth()<e.currentMonth||O.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=T,e.config.mode==="single")e.selectedDates=[O];else if(e.config.mode==="multiple"){var Y=le(O);Y?e.selectedDates.splice(parseInt(Y),1):e.selectedDates.push(O)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=O,e.selectedDates.push(O),Zt(O,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(F,A){return F.getTime()-A.getTime()}));if(x(),R){var B=e.currentYear!==O.getFullYear();e.currentYear=O.getFullYear(),e.currentMonth=O.getMonth(),B&&(st("onYearChange"),me()),st("onMonthChange")}if(Je(),Lt(),Wt(),!R&&e.config.mode!=="range"&&e.config.showMonths===1?_t(T):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var $=e.config.mode==="single"&&!e.config.enableTime,N=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;($||N)&&$e()}C()}}var Ke={locale:[Pe,yn],showMonths:[ri,d,G],minDate:[U],maxDate:[U],positionElement:[fi],clickOpens:[function(){e.config.clickOpens===!0?(P(e._input,"focus",e.open),P(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Mn(_,m){if(_!==null&&typeof _=="object"){Object.assign(e.config,_);for(var w in _)Ke[w]!==void 0&&Ke[w].forEach(function(T){return T()})}else e.config[_]=m,Ke[_]!==void 0?Ke[_].forEach(function(T){return T()}):Ko.indexOf(_)>-1&&(e.config[_]=Jo(m));e.redraw(),Wt(!0)}function Tn(_,m){var w=[];if(_ instanceof Array)w=_.map(function(T){return e.parseDate(T,m)});else if(_ instanceof Date||typeof _=="number")w=[e.parseDate(_,m)];else if(typeof _=="string")switch(e.config.mode){case"single":case"time":w=[e.parseDate(_,m)];break;case"multiple":w=_.split(e.config.conjunction).map(function(T){return e.parseDate(T,m)});break;case"range":w=_.split(e.l10n.rangeSeparator).map(function(T){return e.parseDate(T,m)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(_)));e.selectedDates=e.config.allowInvalidPreload?w:w.filter(function(T){return T instanceof Date&&Ct(T,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(T,O){return T.getTime()-O.getTime()})}function ui(_,m,w){if(m===void 0&&(m=!1),w===void 0&&(w=e.config.dateFormat),_!==0&&!_||_ instanceof Array&&_.length===0)return e.clear(m);Tn(_,w),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),U(void 0,m),D(),e.selectedDates.length===0&&e.clear(!1),Wt(m),m&&st("onChange")}function ci(_){return _.slice().map(function(m){return typeof m=="string"||typeof m=="number"||m instanceof Date?e.parseDate(m,void 0,!0):m&&typeof m=="object"&&m.from&&m.to?{from:e.parseDate(m.from,void 0),to:e.parseDate(m.to,void 0)}:m}).filter(function(m){return m})}function hi(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var _=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);_&&Tn(_,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function di(){if(e.input=qe(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=it(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),fi()}function fi(){e._positionElement=e.config.positionElement||e._input}function pi(){var _=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=it("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=_,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=_==="datetime-local"?"Y-m-d\\TH:i:S":_==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}P(e.mobileInput,"change",function(m){e.setDate(Ht(m).value,!1,e.mobileFormatStr),st("onChange"),st("onClose")})}function Cn(_){if(e.isOpen===!0)return e.close();e.open(_)}function st(_,m){if(e.config!==void 0){var w=e.config[_];if(w!==void 0&&w.length>0)for(var T=0;w[T]&&T<w.length;T++)w[T](e.selectedDates,e.input.value,e,m);_==="onChange"&&(e.input.dispatchEvent(Pn("change")),e.input.dispatchEvent(Pn("input")))}}function Pn(_){var m=document.createEvent("Event");return m.initEvent(_,!0,!0),m}function le(_){for(var m=0;m<e.selectedDates.length;m++){var w=e.selectedDates[m];if(w instanceof Date&&Zt(w,_)===0)return""+m}return!1}function po(_){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Zt(_,e.selectedDates[0])>=0&&Zt(_,e.selectedDates[1])<=0}function Je(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(_,m){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[m].textContent=$i(w.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=w.getMonth().toString(),_.value=w.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Xe(_){var m=_||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(w){return e.formatDate(w,m)}).filter(function(w,T,O){return e.config.mode!=="range"||e.config.enableTime||O.indexOf(w)===T}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Wt(_){_===void 0&&(_=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Xe(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Xe(e.config.altFormat)),_!==!1&&st("onValueUpdate")}function _i(_){var m=Ht(_),w=e.prevMonthNav.contains(m),T=e.nextMonthNav.contains(m);w||T?rt(w?-1:1):e.yearElements.indexOf(m)>=0?m.select():m.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):m.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function _o(_){_.preventDefault();var m=_.type==="keydown",w=Ht(_),T=w;e.amPM!==void 0&&w===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Vt(e.amPM.textContent===e.l10n.amPM[0])]);var O=parseFloat(T.getAttribute("min")),R=parseFloat(T.getAttribute("max")),Y=parseFloat(T.getAttribute("step")),B=parseInt(T.value,10),$=_.delta||(m?_.which===38?1:-1:0),N=B+Y*$;if(typeof T.value<"u"&&T.value.length===2){var F=T===e.hourElement,A=T===e.minuteElement;N<O?(N=R+N+Vt(!F)+(Vt(F)&&Vt(!e.amPM)),A&&et(void 0,-1,e.hourElement)):N>R&&(N=T===e.hourElement?N-R-Vt(!e.amPM):O,A&&et(void 0,1,e.hourElement)),e.amPM&&F&&(Y===1?N+B===23:Math.abs(N-B)>Y)&&(e.amPM.textContent=e.l10n.amPM[Vt(e.amPM.textContent===e.l10n.amPM[0])]),T.value=zt(N)}}return r(),e}function cn(n,o){for(var e=Array.prototype.slice.call(n).filter(function(u){return u instanceof HTMLElement}),c=[],r=0;r<e.length;r++){var s=e[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Hh(s,o||{}),c.push(s._flatpickr)}catch(u){console.error(u)}}return c.length===1?c[0]:c}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return cn(this,n)},HTMLElement.prototype.flatpickr=function(n){return cn([this],n)});var ct=function(n,o){return typeof n=="string"?cn(window.document.querySelectorAll(n),o):n instanceof Node?cn([n],o):cn(n,o)};ct.defaultConfig={};ct.l10ns={en:kt({},Jn),default:kt({},Jn)};ct.localize=function(n){ct.l10ns.default=kt(kt({},ct.l10ns.default),n)};ct.setDefaults=function(n){ct.defaultConfig=kt(kt({},ct.defaultConfig),n)};ct.parseDate=fr({});ct.formatDate=qs({});ct.compareDates=Zt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return cn(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=ct);var pr=!1,_r=!1,Fe=[],mr=-1;function Zh(n){Uh(n)}function Uh(n){Fe.includes(n)||Fe.push(n),Wh()}function jh(n){let o=Fe.indexOf(n);o!==-1&&o>mr&&Fe.splice(o,1)}function Wh(){!_r&&!pr&&(pr=!0,queueMicrotask(Gh))}function Gh(){pr=!1,_r=!0;for(let n=0;n<Fe.length;n++)Fe[n](),mr=n;Fe.length=0,mr=-1,_r=!1}var _n,Ge,mn,Vs,gr=!0;function Yh(n){gr=!1,n(),gr=!0}function qh(n){_n=n.reactive,mn=n.release,Ge=o=>n.effect(o,{scheduler:e=>{gr?Zh(e):e()}}),Vs=n.raw}function ls(n){Ge=n}function Vh(n){let o=()=>{};return[c=>{let r=Ge(c);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(s=>s())}),n._x_effects.add(r),o=()=>{r!==void 0&&(n._x_effects.delete(r),mn(r))},r},()=>{o()}]}function $s(n,o){let e=!0,c,r=Ge(()=>{let s=n();JSON.stringify(s),e?c=s:queueMicrotask(()=>{o(s,c),c=s}),e=!1});return()=>mn(r)}var Ks=[],Js=[],Xs=[];function $h(n){Xs.push(n)}function Nr(n,o){typeof o=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(o)):(o=n,Js.push(o))}function Qs(n){Ks.push(n)}function tl(n,o,e){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[o]||(n._x_attributeCleanups[o]=[]),n._x_attributeCleanups[o].push(e)}function el(n,o){n._x_attributeCleanups&&Object.entries(n._x_attributeCleanups).forEach(([e,c])=>{(o===void 0||o.includes(e))&&(c.forEach(r=>r()),delete n._x_attributeCleanups[e])})}function Kh(n){var o,e;for((o=n._x_effects)==null||o.forEach(jh);(e=n._x_cleanups)!=null&&e.length;)n._x_cleanups.pop()()}var Br=new MutationObserver(Ur),Fr=!1;function Hr(){Br.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Fr=!0}function nl(){Jh(),Br.disconnect(),Fr=!1}var jn=[];function Jh(){let n=Br.takeRecords();jn.push(()=>n.length>0&&Ur(n));let o=jn.length;queueMicrotask(()=>{if(jn.length===o)for(;jn.length>0;)jn.shift()()})}function dt(n){if(!Fr)return n();nl();let o=n();return Hr(),o}var Zr=!1,Ki=[];function Xh(){Zr=!0}function Qh(){Zr=!1,Ur(Ki),Ki=[]}function Ur(n){if(Zr){Ki=Ki.concat(n);return}let o=new Set,e=new Set,c=new Map,r=new Map;for(let s=0;s<n.length;s++)if(!n[s].target._x_ignoreMutationObserver&&(n[s].type==="childList"&&(n[s].addedNodes.forEach(u=>u.nodeType===1&&o.add(u)),n[s].removedNodes.forEach(u=>u.nodeType===1&&e.add(u))),n[s].type==="attributes")){let u=n[s].target,d=n[s].attributeName,p=n[s].oldValue,v=()=>{c.has(u)||c.set(u,[]),c.get(u).push({name:d,value:u.getAttribute(d)})},g=()=>{r.has(u)||r.set(u,[]),r.get(u).push(d)};u.hasAttribute(d)&&p===null?v():u.hasAttribute(d)?(g(),v()):g()}r.forEach((s,u)=>{el(u,s)}),c.forEach((s,u)=>{Ks.forEach(d=>d(u,s))});for(let s of e)o.has(s)||Js.forEach(u=>u(s));o.forEach(s=>{s._x_ignoreSelf=!0,s._x_ignore=!0});for(let s of o)e.has(s)||s.isConnected&&(delete s._x_ignoreSelf,delete s._x_ignore,Xs.forEach(u=>u(s)),s._x_ignore=!0,s._x_ignoreSelf=!0);o.forEach(s=>{delete s._x_ignoreSelf,delete s._x_ignore}),o=null,e=null,c=null,r=null}function il(n){return ni(hn(n))}function ei(n,o,e){return n._x_dataStack=[o,...hn(e||n)],()=>{n._x_dataStack=n._x_dataStack.filter(c=>c!==o)}}function hn(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?hn(n.host):n.parentNode?hn(n.parentNode):[]}function ni(n){return new Proxy({objects:n},td)}var td={ownKeys({objects:n}){return Array.from(new Set(n.flatMap(o=>Object.keys(o))))},has({objects:n},o){return o==Symbol.unscopables?!1:n.some(e=>Object.prototype.hasOwnProperty.call(e,o)||Reflect.has(e,o))},get({objects:n},o,e){return o=="toJSON"?ed:Reflect.get(n.find(c=>Reflect.has(c,o))||{},o,e)},set({objects:n},o,e,c){const r=n.find(u=>Object.prototype.hasOwnProperty.call(u,o))||n[n.length-1],s=Object.getOwnPropertyDescriptor(r,o);return s!=null&&s.set&&(s!=null&&s.get)?s.set.call(c,e)||!0:Reflect.set(r,o,e)}};function ed(){return Reflect.ownKeys(this).reduce((o,e)=>(o[e]=Reflect.get(this,e),o),{})}function ol(n){let o=c=>typeof c=="object"&&!Array.isArray(c)&&c!==null,e=(c,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(c)).forEach(([s,{value:u,enumerable:d}])=>{if(d===!1||u===void 0||typeof u=="object"&&u!==null&&u.__v_skip)return;let p=r===""?s:`${r}.${s}`;typeof u=="object"&&u!==null&&u._x_interceptor?c[s]=u.initialize(n,p,s):o(u)&&u!==c&&!(u instanceof Element)&&e(u,p)})};return e(n)}function rl(n,o=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(c,r,s){return n(this.initialValue,()=>nd(c,r),u=>vr(c,r,u),r,s)}};return o(e),c=>{if(typeof c=="object"&&c!==null&&c._x_interceptor){let r=e.initialize.bind(e);e.initialize=(s,u,d)=>{let p=c.initialize(s,u,d);return e.initialValue=p,r(s,u,d)}}else e.initialValue=c;return e}}function nd(n,o){return o.split(".").reduce((e,c)=>e[c],n)}function vr(n,o,e){if(typeof o=="string"&&(o=o.split(".")),o.length===1)n[o[0]]=e;else{if(o.length===0)throw error;return n[o[0]]||(n[o[0]]={}),vr(n[o[0]],o.slice(1),e)}}var al={};function ee(n,o){al[n]=o}function yr(n,o){let e=id(o);return Object.entries(al).forEach(([c,r])=>{Object.defineProperty(n,`$${c}`,{get(){return r(o,e)},enumerable:!1})}),n}function id(n){let[o,e]=dl(n),c={interceptor:rl,...o};return Nr(n,e),c}function od(n,o,e,...c){try{return e(...c)}catch(r){Xn(r,n,o)}}function Xn(n,o,e=void 0){n=Object.assign(n??{message:"No error message given."},{el:o,expression:e}),console.warn(`Alpine Expression Error: ${n.message}

${e?'Expression: "'+e+`"

`:""}`,o),setTimeout(()=>{throw n},0)}var Gi=!0;function sl(n){let o=Gi;Gi=!1;let e=n();return Gi=o,e}function He(n,o,e={}){let c;return At(n,o)(r=>c=r,e),c}function At(...n){return ll(...n)}var ll=ul;function rd(n){ll=n}function ul(n,o){let e={};yr(e,n);let c=[e,...hn(n)],r=typeof o=="function"?ad(c,o):ld(c,o,n);return od.bind(null,n,o,r)}function ad(n,o){return(e=()=>{},{scope:c={},params:r=[]}={})=>{let s=o.apply(ni([c,...n]),r);Ji(e,s)}}var er={};function sd(n,o){if(er[n])return er[n];let e=Object.getPrototypeOf(async function(){}).constructor,c=/^[\n\s]*if.*\(.*\)/.test(n.trim())||/^(let|const)\s/.test(n.trim())?`(async()=>{ ${n} })()`:n,s=(()=>{try{let u=new e(["__self","scope"],`with (scope) { __self.result = ${c} }; __self.finished = true; return __self.result;`);return Object.defineProperty(u,"name",{value:`[Alpine] ${n}`}),u}catch(u){return Xn(u,o,n),Promise.resolve()}})();return er[n]=s,s}function ld(n,o,e){let c=sd(o,e);return(r=()=>{},{scope:s={},params:u=[]}={})=>{c.result=void 0,c.finished=!1;let d=ni([s,...n]);if(typeof c=="function"){let p=c(c,d).catch(v=>Xn(v,e,o));c.finished?(Ji(r,c.result,d,u,e),c.result=void 0):p.then(v=>{Ji(r,v,d,u,e)}).catch(v=>Xn(v,e,o)).finally(()=>c.result=void 0)}}}function Ji(n,o,e,c,r){if(Gi&&typeof o=="function"){let s=o.apply(e,c);s instanceof Promise?s.then(u=>Ji(n,u,e,c)).catch(u=>Xn(u,r,o)):n(s)}else typeof o=="object"&&o instanceof Promise?o.then(s=>n(s)):n(o)}var jr="x-";function gn(n=""){return jr+n}function ud(n){jr=n}var Xi={};function yt(n,o){return Xi[n]=o,{before(e){if(!Xi[e]){console.warn(String.raw`Cannot find directive \`${e}\`. \`${n}\` will use the default order of execution`);return}const c=Ne.indexOf(e);Ne.splice(c>=0?c:Ne.indexOf("DEFAULT"),0,n)}}}function cd(n){return Object.keys(Xi).includes(n)}function Wr(n,o,e){if(o=Array.from(o),n._x_virtualDirectives){let s=Object.entries(n._x_virtualDirectives).map(([d,p])=>({name:d,value:p})),u=cl(s);s=s.map(d=>u.find(p=>p.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),o=o.concat(s)}let c={};return o.map(_l((s,u)=>c[s]=u)).filter(gl).map(fd(c,e)).sort(pd).map(s=>dd(n,s))}function cl(n){return Array.from(n).map(_l()).filter(o=>!gl(o))}var wr=!1,Yn=new Map,hl=Symbol();function hd(n){wr=!0;let o=Symbol();hl=o,Yn.set(o,[]);let e=()=>{for(;Yn.get(o).length;)Yn.get(o).shift()();Yn.delete(o)},c=()=>{wr=!1,e()};n(e),c()}function dl(n){let o=[],e=d=>o.push(d),[c,r]=Vh(n);return o.push(r),[{Alpine:oi,effect:c,cleanup:e,evaluateLater:At.bind(At,n),evaluate:He.bind(He,n)},()=>o.forEach(d=>d())]}function dd(n,o){let e=()=>{},c=Xi[o.type]||e,[r,s]=dl(n);tl(n,o.original,s);let u=()=>{n._x_ignore||n._x_ignoreSelf||(c.inline&&c.inline(n,o,r),c=c.bind(c,n,o,r),wr?Yn.get(hl).push(c):c())};return u.runCleanups=s,u}var fl=(n,o)=>({name:e,value:c})=>(e.startsWith(n)&&(e=e.replace(n,o)),{name:e,value:c}),pl=n=>n;function _l(n=()=>{}){return({name:o,value:e})=>{let{name:c,value:r}=ml.reduce((s,u)=>u(s),{name:o,value:e});return c!==o&&n(c,o),{name:c,value:r}}}var ml=[];function Gr(n){ml.push(n)}function gl({name:n}){return vl().test(n)}var vl=()=>new RegExp(`^${jr}([^:^.]+)\\b`);function fd(n,o){return({name:e,value:c})=>{let r=e.match(vl()),s=e.match(/:([a-zA-Z0-9\-_:]+)/),u=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],d=o||n[e]||e;return{type:r?r[1]:null,value:s?s[1]:null,modifiers:u.map(p=>p.replace(".","")),expression:c,original:d}}}var Lr="DEFAULT",Ne=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Lr,"teleport"];function pd(n,o){let e=Ne.indexOf(n.type)===-1?Lr:n.type,c=Ne.indexOf(o.type)===-1?Lr:o.type;return Ne.indexOf(e)-Ne.indexOf(c)}function Vn(n,o,e={}){n.dispatchEvent(new CustomEvent(o,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function We(n,o){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(r=>We(r,o));return}let e=!1;if(o(n,()=>e=!0),e)return;let c=n.firstElementChild;for(;c;)We(c,o),c=c.nextElementSibling}function $t(n,...o){console.warn(`Alpine Warning: ${n}`,...o)}var us=!1;function _d(){us&&$t("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),us=!0,document.body||$t("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Vn(document,"alpine:init"),Vn(document,"alpine:initializing"),Hr(),$h(o=>_e(o,We)),Nr(o=>vn(o)),Qs((o,e)=>{Wr(o,e).forEach(c=>c())});let n=o=>!ro(o.parentElement,!0);Array.from(document.querySelectorAll(Ll().join(","))).filter(n).forEach(o=>{_e(o)}),Vn(document,"alpine:initialized"),setTimeout(()=>{vd()})}var Yr=[],yl=[];function wl(){return Yr.map(n=>n())}function Ll(){return Yr.concat(yl).map(n=>n())}function bl(n){Yr.push(n)}function xl(n){yl.push(n)}function ro(n,o=!1){return ii(n,e=>{if((o?Ll():wl()).some(r=>e.matches(r)))return!0})}function ii(n,o){if(n){if(o(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return ii(n.parentElement,o)}}function md(n){return wl().some(o=>n.matches(o))}var El=[];function gd(n){El.push(n)}function _e(n,o=We,e=()=>{}){hd(()=>{o(n,(c,r)=>{e(c,r),El.forEach(s=>s(c,r)),Wr(c,c.attributes).forEach(s=>s()),c._x_ignore&&r()})})}function vn(n,o=We){o(n,e=>{Kh(e),el(e)})}function vd(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([o,e,c])=>{cd(e)||c.some(r=>{if(document.querySelector(r))return $t(`found "${r}", but missing ${o} plugin`),!0})})}var br=[],qr=!1;function Vr(n=()=>{}){return queueMicrotask(()=>{qr||setTimeout(()=>{xr()})}),new Promise(o=>{br.push(()=>{n(),o()})})}function xr(){for(qr=!1;br.length;)br.shift()()}function yd(){qr=!0}function $r(n,o){return Array.isArray(o)?cs(n,o.join(" ")):typeof o=="object"&&o!==null?wd(n,o):typeof o=="function"?$r(n,o()):cs(n,o)}function cs(n,o){let e=r=>r.split(" ").filter(s=>!n.classList.contains(s)).filter(Boolean),c=r=>(n.classList.add(...r),()=>{n.classList.remove(...r)});return o=o===!0?o="":o||"",c(e(o))}function wd(n,o){let e=d=>d.split(" ").filter(Boolean),c=Object.entries(o).flatMap(([d,p])=>p?e(d):!1).filter(Boolean),r=Object.entries(o).flatMap(([d,p])=>p?!1:e(d)).filter(Boolean),s=[],u=[];return r.forEach(d=>{n.classList.contains(d)&&(n.classList.remove(d),u.push(d))}),c.forEach(d=>{n.classList.contains(d)||(n.classList.add(d),s.push(d))}),()=>{u.forEach(d=>n.classList.add(d)),s.forEach(d=>n.classList.remove(d))}}function ao(n,o){return typeof o=="object"&&o!==null?Ld(n,o):bd(n,o)}function Ld(n,o){let e={};return Object.entries(o).forEach(([c,r])=>{e[c]=n.style[c],c.startsWith("--")||(c=xd(c)),n.style.setProperty(c,r)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{ao(n,e)}}function bd(n,o){let e=n.getAttribute("style",o);return n.setAttribute("style",o),()=>{n.setAttribute("style",e||"")}}function xd(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Er(n,o=()=>{}){let e=!1;return function(){e?o.apply(this,arguments):(e=!0,n.apply(this,arguments))}}yt("transition",(n,{value:o,modifiers:e,expression:c},{evaluate:r})=>{typeof c=="function"&&(c=r(c)),c!==!1&&(!c||typeof c=="boolean"?Md(n,e,o):Ed(n,c,o))});function Ed(n,o,e){Ml(n,$r,""),{enter:r=>{n._x_transition.enter.during=r},"enter-start":r=>{n._x_transition.enter.start=r},"enter-end":r=>{n._x_transition.enter.end=r},leave:r=>{n._x_transition.leave.during=r},"leave-start":r=>{n._x_transition.leave.start=r},"leave-end":r=>{n._x_transition.leave.end=r}}[e](o)}function Md(n,o,e){Ml(n,ao);let c=!o.includes("in")&&!o.includes("out")&&!e,r=c||o.includes("in")||["enter"].includes(e),s=c||o.includes("out")||["leave"].includes(e);o.includes("in")&&!c&&(o=o.filter((H,U)=>U<o.indexOf("out"))),o.includes("out")&&!c&&(o=o.filter((H,U)=>U>o.indexOf("out")));let u=!o.includes("opacity")&&!o.includes("scale"),d=u||o.includes("opacity"),p=u||o.includes("scale"),v=d?0:1,g=p?Wn(o,"scale",95)/100:1,x=Wn(o,"delay",0)/1e3,D=Wn(o,"origin","center"),I="opacity, transform",S=Wn(o,"duration",150)/1e3,P=Wn(o,"duration",75)/1e3,C="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(n._x_transition.enter.during={transformOrigin:D,transitionDelay:`${x}s`,transitionProperty:I,transitionDuration:`${S}s`,transitionTimingFunction:C},n._x_transition.enter.start={opacity:v,transform:`scale(${g})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(n._x_transition.leave.during={transformOrigin:D,transitionDelay:`${x}s`,transitionProperty:I,transitionDuration:`${P}s`,transitionTimingFunction:C},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:v,transform:`scale(${g})`})}function Ml(n,o,e={}){n._x_transition||(n._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(c=()=>{},r=()=>{}){Mr(n,o,{during:this.enter.during,start:this.enter.start,end:this.enter.end},c,r)},out(c=()=>{},r=()=>{}){Mr(n,o,{during:this.leave.during,start:this.leave.start,end:this.leave.end},c,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,o,e,c){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>r(e);if(o){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(e):s():n._x_transition?n._x_transition.in(e):s();return}n._x_hidePromise=n._x_transition?new Promise((u,d)=>{n._x_transition.out(()=>{},()=>u(c)),n._x_transitioning&&n._x_transitioning.beforeCancel(()=>d({isFromCancelledTransition:!0}))}):Promise.resolve(c),queueMicrotask(()=>{let u=Tl(n);u?(u._x_hideChildren||(u._x_hideChildren=[]),u._x_hideChildren.push(n)):r(()=>{let d=p=>{let v=Promise.all([p._x_hidePromise,...(p._x_hideChildren||[]).map(d)]).then(([g])=>g==null?void 0:g());return delete p._x_hidePromise,delete p._x_hideChildren,v};d(n).catch(p=>{if(!p.isFromCancelledTransition)throw p})})})};function Tl(n){let o=n.parentNode;if(o)return o._x_hidePromise?o:Tl(o)}function Mr(n,o,{during:e,start:c,end:r}={},s=()=>{},u=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(c).length===0&&Object.keys(r).length===0){s(),u();return}let d,p,v;Td(n,{start(){d=o(n,c)},during(){p=o(n,e)},before:s,end(){d(),v=o(n,r)},after:u,cleanup(){p(),v()}})}function Td(n,o){let e,c,r,s=Er(()=>{dt(()=>{e=!0,c||o.before(),r||(o.end(),xr()),o.after(),n.isConnected&&o.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(u){this.beforeCancels.push(u)},cancel:Er(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},dt(()=>{o.start(),o.during()}),yd(),requestAnimationFrame(()=>{if(e)return;let u=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,d=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;u===0&&(u=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),dt(()=>{o.before()}),c=!0,requestAnimationFrame(()=>{e||(dt(()=>{o.end()}),xr(),setTimeout(n._x_transitioning.finish,u+d),r=!0)})})}function Wn(n,o,e){if(n.indexOf(o)===-1)return e;const c=n[n.indexOf(o)+1];if(!c||o==="scale"&&isNaN(c))return e;if(o==="duration"||o==="delay"){let r=c.match(/([0-9]+)ms/);if(r)return r[1]}return o==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(o)+2])?[c,n[n.indexOf(o)+2]].join(" "):c}var xe=!1;function Me(n,o=()=>{}){return(...e)=>xe?o(...e):n(...e)}function Cd(n){return(...o)=>xe&&n(...o)}var Cl=[];function so(n){Cl.push(n)}function Pd(n,o){Cl.forEach(e=>e(n,o)),xe=!0,Pl(()=>{_e(o,(e,c)=>{c(e,()=>{})})}),xe=!1}var Tr=!1;function kd(n,o){o._x_dataStack||(o._x_dataStack=n._x_dataStack),xe=!0,Tr=!0,Pl(()=>{Dd(o)}),xe=!1,Tr=!1}function Dd(n){let o=!1;_e(n,(c,r)=>{We(c,(s,u)=>{if(o&&md(s))return u();o=!0,r(s,u)})})}function Pl(n){let o=Ge;ls((e,c)=>{let r=o(e);return mn(r),()=>{}}),n(),ls(o)}function kl(n,o,e,c=[]){switch(n._x_bindings||(n._x_bindings=_n({})),n._x_bindings[o]=e,o=c.includes("camel")?Bd(o):o,o){case"value":Sd(n,e);break;case"style":Ad(n,e);break;case"class":Od(n,e);break;case"selected":case"checked":Id(n,o,e);break;default:Dl(n,o,e);break}}function Sd(n,o){if(Al(n))n.attributes.value===void 0&&(n.value=o),window.fromModel&&(typeof o=="boolean"?n.checked=Yi(n.value)===o:n.checked=hs(n.value,o));else if(Kr(n))Number.isInteger(o)?n.value=o:!Array.isArray(o)&&typeof o!="boolean"&&![null,void 0].includes(o)?n.value=String(o):Array.isArray(o)?n.checked=o.some(e=>hs(e,n.value)):n.checked=!!o;else if(n.tagName==="SELECT")Nd(n,o);else{if(n.value===o)return;n.value=o===void 0?"":o}}function Od(n,o){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=$r(n,o)}function Ad(n,o){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=ao(n,o)}function Id(n,o,e){Dl(n,o,e),zd(n,o,e)}function Dl(n,o,e){[null,void 0,!1].includes(e)&&Hd(o)?n.removeAttribute(o):(Sl(o)&&(e=o),Rd(n,o,e))}function Rd(n,o,e){n.getAttribute(o)!=e&&n.setAttribute(o,e)}function zd(n,o,e){n[o]!==e&&(n[o]=e)}function Nd(n,o){const e=[].concat(o).map(c=>c+"");Array.from(n.options).forEach(c=>{c.selected=e.includes(c.value)})}function Bd(n){return n.toLowerCase().replace(/-(\w)/g,(o,e)=>e.toUpperCase())}function hs(n,o){return n==o}function Yi(n){return[1,"1","true","on","yes",!0].includes(n)?!0:[0,"0","false","off","no",!1].includes(n)?!1:n?!!n:null}var Fd=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Sl(n){return Fd.has(n)}function Hd(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function Zd(n,o,e){return n._x_bindings&&n._x_bindings[o]!==void 0?n._x_bindings[o]:Ol(n,o,e)}function Ud(n,o,e,c=!0){if(n._x_bindings&&n._x_bindings[o]!==void 0)return n._x_bindings[o];if(n._x_inlineBindings&&n._x_inlineBindings[o]!==void 0){let r=n._x_inlineBindings[o];return r.extract=c,sl(()=>He(n,r.expression))}return Ol(n,o,e)}function Ol(n,o,e){let c=n.getAttribute(o);return c===null?typeof e=="function"?e():e:c===""?!0:Sl(o)?!![o,"true"].includes(c):c}function Kr(n){return n.type==="checkbox"||n.localName==="ui-checkbox"||n.localName==="ui-switch"}function Al(n){return n.type==="radio"||n.localName==="ui-radio"}function Il(n,o){var e;return function(){var c=this,r=arguments,s=function(){e=null,n.apply(c,r)};clearTimeout(e),e=setTimeout(s,o)}}function Rl(n,o){let e;return function(){let c=this,r=arguments;e||(n.apply(c,r),e=!0,setTimeout(()=>e=!1,o))}}function zl({get:n,set:o},{get:e,set:c}){let r=!0,s,u=Ge(()=>{let d=n(),p=e();if(r)c(nr(d)),r=!1;else{let v=JSON.stringify(d),g=JSON.stringify(p);v!==s?c(nr(d)):v!==g&&o(nr(p))}s=JSON.stringify(n()),JSON.stringify(e())});return()=>{mn(u)}}function nr(n){return typeof n=="object"?JSON.parse(JSON.stringify(n)):n}function jd(n){(Array.isArray(n)?n:[n]).forEach(e=>e(oi))}var Ie={},ds=!1;function Wd(n,o){if(ds||(Ie=_n(Ie),ds=!0),o===void 0)return Ie[n];Ie[n]=o,ol(Ie[n]),typeof o=="object"&&o!==null&&o.hasOwnProperty("init")&&typeof o.init=="function"&&Ie[n].init()}function Gd(){return Ie}var Nl={};function Yd(n,o){let e=typeof o!="function"?()=>o:o;return n instanceof Element?Bl(n,e()):(Nl[n]=e,()=>{})}function qd(n){return Object.entries(Nl).forEach(([o,e])=>{Object.defineProperty(n,o,{get(){return(...c)=>e(...c)}})}),n}function Bl(n,o,e){let c=[];for(;c.length;)c.pop()();let r=Object.entries(o).map(([u,d])=>({name:u,value:d})),s=cl(r);return r=r.map(u=>s.find(d=>d.name===u.name)?{name:`x-bind:${u.name}`,value:`"${u.value}"`}:u),Wr(n,r,e).map(u=>{c.push(u.runCleanups),u()}),()=>{for(;c.length;)c.pop()()}}var Fl={};function Vd(n,o){Fl[n]=o}function $d(n,o){return Object.entries(Fl).forEach(([e,c])=>{Object.defineProperty(n,e,{get(){return(...r)=>c.bind(o)(...r)},enumerable:!1})}),n}var Kd={get reactive(){return _n},get release(){return mn},get effect(){return Ge},get raw(){return Vs},version:"3.14.3",flushAndStopDeferringMutations:Qh,dontAutoEvaluateFunctions:sl,disableEffectScheduling:Yh,startObservingMutations:Hr,stopObservingMutations:nl,setReactivityEngine:qh,onAttributeRemoved:tl,onAttributesAdded:Qs,closestDataStack:hn,skipDuringClone:Me,onlyDuringClone:Cd,addRootSelector:bl,addInitSelector:xl,interceptClone:so,addScopeToNode:ei,deferMutations:Xh,mapAttributes:Gr,evaluateLater:At,interceptInit:gd,setEvaluator:rd,mergeProxies:ni,extractProp:Ud,findClosest:ii,onElRemoved:Nr,closestRoot:ro,destroyTree:vn,interceptor:rl,transition:Mr,setStyles:ao,mutateDom:dt,directive:yt,entangle:zl,throttle:Rl,debounce:Il,evaluate:He,initTree:_e,nextTick:Vr,prefixed:gn,prefix:ud,plugin:jd,magic:ee,store:Wd,start:_d,clone:kd,cloneNode:Pd,bound:Zd,$data:il,watch:$s,walk:We,data:Vd,bind:Yd},oi=Kd;function Jd(n,o){const e=Object.create(null),c=n.split(",");for(let r=0;r<c.length;r++)e[c[r]]=!0;return r=>!!e[r]}var Xd=Object.freeze({}),Qd=Object.prototype.hasOwnProperty,lo=(n,o)=>Qd.call(n,o),Ze=Array.isArray,$n=n=>Hl(n)==="[object Map]",tf=n=>typeof n=="string",Jr=n=>typeof n=="symbol",uo=n=>n!==null&&typeof n=="object",ef=Object.prototype.toString,Hl=n=>ef.call(n),Zl=n=>Hl(n).slice(8,-1),Xr=n=>tf(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,nf=n=>{const o=Object.create(null);return e=>o[e]||(o[e]=n(e))},of=nf(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ul=(n,o)=>n!==o&&(n===n||o===o),Cr=new WeakMap,Gn=[],se,Ue=Symbol("iterate"),Pr=Symbol("Map key iterate");function rf(n){return n&&n._isEffect===!0}function af(n,o=Xd){rf(n)&&(n=n.raw);const e=uf(n,o);return o.lazy||e(),e}function sf(n){n.active&&(jl(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var lf=0;function uf(n,o){const e=function(){if(!e.active)return n();if(!Gn.includes(e)){jl(e);try{return hf(),Gn.push(e),se=e,n()}finally{Gn.pop(),Wl(),se=Gn[Gn.length-1]}}};return e.id=lf++,e.allowRecurse=!!o.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=n,e.deps=[],e.options=o,e}function jl(n){const{deps:o}=n;if(o.length){for(let e=0;e<o.length;e++)o[e].delete(n);o.length=0}}var dn=!0,Qr=[];function cf(){Qr.push(dn),dn=!1}function hf(){Qr.push(dn),dn=!0}function Wl(){const n=Qr.pop();dn=n===void 0?!0:n}function Qt(n,o,e){if(!dn||se===void 0)return;let c=Cr.get(n);c||Cr.set(n,c=new Map);let r=c.get(e);r||c.set(e,r=new Set),r.has(se)||(r.add(se),se.deps.push(r),se.options.onTrack&&se.options.onTrack({effect:se,target:n,type:o,key:e}))}function Ee(n,o,e,c,r,s){const u=Cr.get(n);if(!u)return;const d=new Set,p=g=>{g&&g.forEach(x=>{(x!==se||x.allowRecurse)&&d.add(x)})};if(o==="clear")u.forEach(p);else if(e==="length"&&Ze(n))u.forEach((g,x)=>{(x==="length"||x>=c)&&p(g)});else switch(e!==void 0&&p(u.get(e)),o){case"add":Ze(n)?Xr(e)&&p(u.get("length")):(p(u.get(Ue)),$n(n)&&p(u.get(Pr)));break;case"delete":Ze(n)||(p(u.get(Ue)),$n(n)&&p(u.get(Pr)));break;case"set":$n(n)&&p(u.get(Ue));break}const v=g=>{g.options.onTrigger&&g.options.onTrigger({effect:g,target:n,key:e,type:o,newValue:c,oldValue:r,oldTarget:s}),g.options.scheduler?g.options.scheduler(g):g()};d.forEach(v)}var df=Jd("__proto__,__v_isRef,__isVue"),Gl=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(Jr)),ff=Yl(),pf=Yl(!0),fs=_f();function _f(){const n={};return["includes","indexOf","lastIndexOf"].forEach(o=>{n[o]=function(...e){const c=ut(this);for(let s=0,u=this.length;s<u;s++)Qt(c,"get",s+"");const r=c[o](...e);return r===-1||r===!1?c[o](...e.map(ut)):r}}),["push","pop","shift","unshift","splice"].forEach(o=>{n[o]=function(...e){cf();const c=ut(this)[o].apply(this,e);return Wl(),c}}),n}function Yl(n=!1,o=!1){return function(c,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_raw"&&s===(n?o?kf:Kl:o?Pf:$l).get(c))return c;const u=Ze(c);if(!n&&u&&lo(fs,r))return Reflect.get(fs,r,s);const d=Reflect.get(c,r,s);return(Jr(r)?Gl.has(r):df(r))||(n||Qt(c,"get",r),o)?d:kr(d)?!u||!Xr(r)?d.value:d:uo(d)?n?Jl(d):ia(d):d}}var mf=gf();function gf(n=!1){return function(e,c,r,s){let u=e[c];if(!n&&(r=ut(r),u=ut(u),!Ze(e)&&kr(u)&&!kr(r)))return u.value=r,!0;const d=Ze(e)&&Xr(c)?Number(c)<e.length:lo(e,c),p=Reflect.set(e,c,r,s);return e===ut(s)&&(d?Ul(r,u)&&Ee(e,"set",c,r,u):Ee(e,"add",c,r)),p}}function vf(n,o){const e=lo(n,o),c=n[o],r=Reflect.deleteProperty(n,o);return r&&e&&Ee(n,"delete",o,void 0,c),r}function yf(n,o){const e=Reflect.has(n,o);return(!Jr(o)||!Gl.has(o))&&Qt(n,"has",o),e}function wf(n){return Qt(n,"iterate",Ze(n)?"length":Ue),Reflect.ownKeys(n)}var Lf={get:ff,set:mf,deleteProperty:vf,has:yf,ownKeys:wf},bf={get:pf,set(n,o){return console.warn(`Set operation on key "${String(o)}" failed: target is readonly.`,n),!0},deleteProperty(n,o){return console.warn(`Delete operation on key "${String(o)}" failed: target is readonly.`,n),!0}},ta=n=>uo(n)?ia(n):n,ea=n=>uo(n)?Jl(n):n,na=n=>n,co=n=>Reflect.getPrototypeOf(n);function Bi(n,o,e=!1,c=!1){n=n.__v_raw;const r=ut(n),s=ut(o);o!==s&&!e&&Qt(r,"get",o),!e&&Qt(r,"get",s);const{has:u}=co(r),d=c?na:e?ea:ta;if(u.call(r,o))return d(n.get(o));if(u.call(r,s))return d(n.get(s));n!==r&&n.get(o)}function Fi(n,o=!1){const e=this.__v_raw,c=ut(e),r=ut(n);return n!==r&&!o&&Qt(c,"has",n),!o&&Qt(c,"has",r),n===r?e.has(n):e.has(n)||e.has(r)}function Hi(n,o=!1){return n=n.__v_raw,!o&&Qt(ut(n),"iterate",Ue),Reflect.get(n,"size",n)}function ps(n){n=ut(n);const o=ut(this);return co(o).has.call(o,n)||(o.add(n),Ee(o,"add",n,n)),this}function _s(n,o){o=ut(o);const e=ut(this),{has:c,get:r}=co(e);let s=c.call(e,n);s?Vl(e,c,n):(n=ut(n),s=c.call(e,n));const u=r.call(e,n);return e.set(n,o),s?Ul(o,u)&&Ee(e,"set",n,o,u):Ee(e,"add",n,o),this}function ms(n){const o=ut(this),{has:e,get:c}=co(o);let r=e.call(o,n);r?Vl(o,e,n):(n=ut(n),r=e.call(o,n));const s=c?c.call(o,n):void 0,u=o.delete(n);return r&&Ee(o,"delete",n,void 0,s),u}function gs(){const n=ut(this),o=n.size!==0,e=$n(n)?new Map(n):new Set(n),c=n.clear();return o&&Ee(n,"clear",void 0,void 0,e),c}function Zi(n,o){return function(c,r){const s=this,u=s.__v_raw,d=ut(u),p=o?na:n?ea:ta;return!n&&Qt(d,"iterate",Ue),u.forEach((v,g)=>c.call(r,p(v),p(g),s))}}function Ui(n,o,e){return function(...c){const r=this.__v_raw,s=ut(r),u=$n(s),d=n==="entries"||n===Symbol.iterator&&u,p=n==="keys"&&u,v=r[n](...c),g=e?na:o?ea:ta;return!o&&Qt(s,"iterate",p?Pr:Ue),{next(){const{value:x,done:D}=v.next();return D?{value:x,done:D}:{value:d?[g(x[0]),g(x[1])]:g(x),done:D}},[Symbol.iterator](){return this}}}}function be(n){return function(...o){{const e=o[0]?`on key "${o[0]}" `:"";console.warn(`${of(n)} operation ${e}failed: target is readonly.`,ut(this))}return n==="delete"?!1:this}}function xf(){const n={get(s){return Bi(this,s)},get size(){return Hi(this)},has:Fi,add:ps,set:_s,delete:ms,clear:gs,forEach:Zi(!1,!1)},o={get(s){return Bi(this,s,!1,!0)},get size(){return Hi(this)},has:Fi,add:ps,set:_s,delete:ms,clear:gs,forEach:Zi(!1,!0)},e={get(s){return Bi(this,s,!0)},get size(){return Hi(this,!0)},has(s){return Fi.call(this,s,!0)},add:be("add"),set:be("set"),delete:be("delete"),clear:be("clear"),forEach:Zi(!0,!1)},c={get(s){return Bi(this,s,!0,!0)},get size(){return Hi(this,!0)},has(s){return Fi.call(this,s,!0)},add:be("add"),set:be("set"),delete:be("delete"),clear:be("clear"),forEach:Zi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ui(s,!1,!1),e[s]=Ui(s,!0,!1),o[s]=Ui(s,!1,!0),c[s]=Ui(s,!0,!0)}),[n,e,o,c]}var[Ef,Mf,tp,ep]=xf();function ql(n,o){const e=n?Mf:Ef;return(c,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?c:Reflect.get(lo(e,r)&&r in c?e:c,r,s)}var Tf={get:ql(!1)},Cf={get:ql(!0)};function Vl(n,o,e){const c=ut(e);if(c!==e&&o.call(n,c)){const r=Zl(n);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var $l=new WeakMap,Pf=new WeakMap,Kl=new WeakMap,kf=new WeakMap;function Df(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sf(n){return n.__v_skip||!Object.isExtensible(n)?0:Df(Zl(n))}function ia(n){return n&&n.__v_isReadonly?n:Xl(n,!1,Lf,Tf,$l)}function Jl(n){return Xl(n,!0,bf,Cf,Kl)}function Xl(n,o,e,c,r){if(!uo(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(o&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const u=Sf(n);if(u===0)return n;const d=new Proxy(n,u===2?c:e);return r.set(n,d),d}function ut(n){return n&&ut(n.__v_raw)||n}function kr(n){return!!(n&&n.__v_isRef===!0)}ee("nextTick",()=>Vr);ee("dispatch",n=>Vn.bind(Vn,n));ee("watch",(n,{evaluateLater:o,cleanup:e})=>(c,r)=>{let s=o(c),d=$s(()=>{let p;return s(v=>p=v),p},r);e(d)});ee("store",Gd);ee("data",n=>il(n));ee("root",n=>ro(n));ee("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=ni(Of(n))),n._x_refs_proxy));function Of(n){let o=[];return ii(n,e=>{e._x_refs&&o.push(e._x_refs)}),o}var ir={};function Ql(n){return ir[n]||(ir[n]=0),++ir[n]}function Af(n,o){return ii(n,e=>{if(e._x_ids&&e._x_ids[o])return!0})}function If(n,o){n._x_ids||(n._x_ids={}),n._x_ids[o]||(n._x_ids[o]=Ql(o))}ee("id",(n,{cleanup:o})=>(e,c=null)=>{let r=`${e}${c?`-${c}`:""}`;return Rf(n,r,o,()=>{let s=Af(n,e),u=s?s._x_ids[e]:Ql(e);return c?`${e}-${u}-${c}`:`${e}-${u}`})});so((n,o)=>{n._x_id&&(o._x_id=n._x_id)});function Rf(n,o,e,c){if(n._x_id||(n._x_id={}),n._x_id[o])return n._x_id[o];let r=c();return n._x_id[o]=r,e(()=>{delete n._x_id[o]}),r}ee("el",n=>n);tu("Focus","focus","focus");tu("Persist","persist","persist");function tu(n,o,e){ee(o,c=>$t(`You can't use [$${o}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,c))}yt("modelable",(n,{expression:o},{effect:e,evaluateLater:c,cleanup:r})=>{let s=c(o),u=()=>{let g;return s(x=>g=x),g},d=c(`${o} = __placeholder`),p=g=>d(()=>{},{scope:{__placeholder:g}}),v=u();p(v),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let g=n._x_model.get,x=n._x_model.set,D=zl({get(){return g()},set(I){x(I)}},{get(){return u()},set(I){p(I)}});r(D)})});yt("teleport",(n,{modifiers:o,expression:e},{cleanup:c})=>{n.tagName.toLowerCase()!=="template"&&$t("x-teleport can only be used on a <template> tag",n);let r=vs(e),s=n.content.cloneNode(!0).firstElementChild;n._x_teleport=s,s._x_teleportBack=n,n.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),n._x_forwardEvents&&n._x_forwardEvents.forEach(d=>{s.addEventListener(d,p=>{p.stopPropagation(),n.dispatchEvent(new p.constructor(p.type,p))})}),ei(s,{},n);let u=(d,p,v)=>{v.includes("prepend")?p.parentNode.insertBefore(d,p):v.includes("append")?p.parentNode.insertBefore(d,p.nextSibling):p.appendChild(d)};dt(()=>{u(s,r,o),Me(()=>{_e(s),s._x_ignore=!0})()}),n._x_teleportPutBack=()=>{let d=vs(e);dt(()=>{u(n._x_teleport,d,o)})},c(()=>dt(()=>{s.remove(),vn(s)}))});var zf=document.createElement("div");function vs(n){let o=Me(()=>document.querySelector(n),()=>zf)();return o||$t(`Cannot find x-teleport element for selector: "${n}"`),o}var eu=()=>{};eu.inline=(n,{modifiers:o},{cleanup:e})=>{o.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,e(()=>{o.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};yt("ignore",eu);yt("effect",Me((n,{expression:o},{effect:e})=>{e(At(n,o))}));function Dr(n,o,e,c){let r=n,s=p=>c(p),u={},d=(p,v)=>g=>v(p,g);if(e.includes("dot")&&(o=Nf(o)),e.includes("camel")&&(o=Bf(o)),e.includes("passive")&&(u.passive=!0),e.includes("capture")&&(u.capture=!0),e.includes("window")&&(r=window),e.includes("document")&&(r=document),e.includes("debounce")){let p=e[e.indexOf("debounce")+1]||"invalid-wait",v=Qi(p.split("ms")[0])?Number(p.split("ms")[0]):250;s=Il(s,v)}if(e.includes("throttle")){let p=e[e.indexOf("throttle")+1]||"invalid-wait",v=Qi(p.split("ms")[0])?Number(p.split("ms")[0]):250;s=Rl(s,v)}return e.includes("prevent")&&(s=d(s,(p,v)=>{v.preventDefault(),p(v)})),e.includes("stop")&&(s=d(s,(p,v)=>{v.stopPropagation(),p(v)})),e.includes("once")&&(s=d(s,(p,v)=>{p(v),r.removeEventListener(o,s,u)})),(e.includes("away")||e.includes("outside"))&&(r=document,s=d(s,(p,v)=>{n.contains(v.target)||v.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&p(v))})),e.includes("self")&&(s=d(s,(p,v)=>{v.target===n&&p(v)})),(Hf(o)||nu(o))&&(s=d(s,(p,v)=>{Zf(v,e)||p(v)})),r.addEventListener(o,s,u),()=>{r.removeEventListener(o,s,u)}}function Nf(n){return n.replace(/-/g,".")}function Bf(n){return n.toLowerCase().replace(/-(\w)/g,(o,e)=>e.toUpperCase())}function Qi(n){return!Array.isArray(n)&&!isNaN(n)}function Ff(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Hf(n){return["keydown","keyup"].includes(n)}function nu(n){return["contextmenu","click","mouse"].some(o=>n.includes(o))}function Zf(n,o){let e=o.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(s));if(e.includes("debounce")){let s=e.indexOf("debounce");e.splice(s,Qi((e[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let s=e.indexOf("throttle");e.splice(s,Qi((e[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&ys(n.key).includes(e[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(s=>e.includes(s));return e=e.filter(s=>!r.includes(s)),!(r.length>0&&r.filter(u=>((u==="cmd"||u==="super")&&(u="meta"),n[`${u}Key`])).length===r.length&&(nu(n.type)||ys(n.key).includes(e[0])))}function ys(n){if(!n)return[];n=Ff(n);let o={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return o[n]=n,Object.keys(o).map(e=>{if(o[e]===n)return e}).filter(e=>e)}yt("model",(n,{modifiers:o,expression:e},{effect:c,cleanup:r})=>{let s=n;o.includes("parent")&&(s=n.parentNode);let u=At(s,e),d;typeof e=="string"?d=At(s,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?d=At(s,`${e()} = __placeholder`):d=()=>{};let p=()=>{let D;return u(I=>D=I),ws(D)?D.get():D},v=D=>{let I;u(S=>I=S),ws(I)?I.set(D):d(()=>{},{scope:{__placeholder:D}})};typeof e=="string"&&n.type==="radio"&&dt(()=>{n.hasAttribute("name")||n.setAttribute("name",e)});var g=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||o.includes("lazy")?"change":"input";let x=xe?()=>{}:Dr(n,g,o,D=>{v(or(n,o,D,p()))});if(o.includes("fill")&&([void 0,null,""].includes(p())||Kr(n)&&Array.isArray(p())||n.tagName.toLowerCase()==="select"&&n.multiple)&&v(or(n,o,{target:n},p())),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=x,r(()=>n._x_removeModelListeners.default()),n.form){let D=Dr(n.form,"reset",[],I=>{Vr(()=>n._x_model&&n._x_model.set(or(n,o,{target:n},p())))});r(()=>D())}n._x_model={get(){return p()},set(D){v(D)}},n._x_forceModelUpdate=D=>{D===void 0&&typeof e=="string"&&e.match(/\./)&&(D=""),window.fromModel=!0,dt(()=>kl(n,"value",D)),delete window.fromModel},c(()=>{let D=p();o.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(D)})});function or(n,o,e,c){return dt(()=>{if(e instanceof CustomEvent&&e.detail!==void 0)return e.detail!==null&&e.detail!==void 0?e.detail:e.target.value;if(Kr(n))if(Array.isArray(c)){let r=null;return o.includes("number")?r=rr(e.target.value):o.includes("boolean")?r=Yi(e.target.value):r=e.target.value,e.target.checked?c.includes(r)?c:c.concat([r]):c.filter(s=>!Uf(s,r))}else return e.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return o.includes("number")?Array.from(e.target.selectedOptions).map(r=>{let s=r.value||r.text;return rr(s)}):o.includes("boolean")?Array.from(e.target.selectedOptions).map(r=>{let s=r.value||r.text;return Yi(s)}):Array.from(e.target.selectedOptions).map(r=>r.value||r.text);{let r;return Al(n)?e.target.checked?r=e.target.value:r=c:r=e.target.value,o.includes("number")?rr(r):o.includes("boolean")?Yi(r):o.includes("trim")?r.trim():r}}})}function rr(n){let o=n?parseFloat(n):null;return jf(o)?o:n}function Uf(n,o){return n==o}function jf(n){return!Array.isArray(n)&&!isNaN(n)}function ws(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}yt("cloak",n=>queueMicrotask(()=>dt(()=>n.removeAttribute(gn("cloak")))));xl(()=>`[${gn("init")}]`);yt("init",Me((n,{expression:o},{evaluate:e})=>typeof o=="string"?!!o.trim()&&e(o,{},!1):e(o,{},!1)));yt("text",(n,{expression:o},{effect:e,evaluateLater:c})=>{let r=c(o);e(()=>{r(s=>{dt(()=>{n.textContent=s})})})});yt("html",(n,{expression:o},{effect:e,evaluateLater:c})=>{let r=c(o);e(()=>{r(s=>{dt(()=>{n.innerHTML=s,n._x_ignoreSelf=!0,_e(n),delete n._x_ignoreSelf})})})});Gr(fl(":",pl(gn("bind:"))));var iu=(n,{value:o,modifiers:e,expression:c,original:r},{effect:s,cleanup:u})=>{if(!o){let p={};qd(p),At(n,c)(g=>{Bl(n,g,r)},{scope:p});return}if(o==="key")return Wf(n,c);if(n._x_inlineBindings&&n._x_inlineBindings[o]&&n._x_inlineBindings[o].extract)return;let d=At(n,c);s(()=>d(p=>{p===void 0&&typeof c=="string"&&c.match(/\./)&&(p=""),dt(()=>kl(n,o,p,e))})),u(()=>{n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedStyles&&n._x_undoAddedStyles()})};iu.inline=(n,{value:o,modifiers:e,expression:c})=>{o&&(n._x_inlineBindings||(n._x_inlineBindings={}),n._x_inlineBindings[o]={expression:c,extract:!1})};yt("bind",iu);function Wf(n,o){n._x_keyExpression=o}bl(()=>`[${gn("data")}]`);yt("data",(n,{expression:o},{cleanup:e})=>{if(Gf(n))return;o=o===""?"{}":o;let c={};yr(c,n);let r={};$d(r,c);let s=He(n,o,{scope:r});(s===void 0||s===!0)&&(s={}),yr(s,n);let u=_n(s);ol(u);let d=ei(n,u);u.init&&He(n,u.init),e(()=>{u.destroy&&He(n,u.destroy),d()})});so((n,o)=>{n._x_dataStack&&(o._x_dataStack=n._x_dataStack,o.setAttribute("data-has-alpine-state",!0))});function Gf(n){return xe?Tr?!0:n.hasAttribute("data-has-alpine-state"):!1}yt("show",(n,{modifiers:o,expression:e},{effect:c})=>{let r=At(n,e);n._x_doHide||(n._x_doHide=()=>{dt(()=>{n.style.setProperty("display","none",o.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{dt(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let s=()=>{n._x_doHide(),n._x_isShown=!1},u=()=>{n._x_doShow(),n._x_isShown=!0},d=()=>setTimeout(u),p=Er(x=>x?u():s(),x=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,x,u,s):x?d():s()}),v,g=!0;c(()=>r(x=>{!g&&x===v||(o.includes("immediate")&&(x?d():s()),p(x),v=x,g=!1)}))});yt("for",(n,{expression:o},{effect:e,cleanup:c})=>{let r=qf(o),s=At(n,r.items),u=At(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},e(()=>Yf(n,r,s,u)),c(()=>{Object.values(n._x_lookup).forEach(d=>dt(()=>{vn(d),d.remove()})),delete n._x_prevKeys,delete n._x_lookup})});function Yf(n,o,e,c){let r=u=>typeof u=="object"&&!Array.isArray(u),s=n;e(u=>{Vf(u)&&u>=0&&(u=Array.from(Array(u).keys(),C=>C+1)),u===void 0&&(u=[]);let d=n._x_lookup,p=n._x_prevKeys,v=[],g=[];if(r(u))u=Object.entries(u).map(([C,H])=>{let U=Ls(o,H,C,u);c(Z=>{g.includes(Z)&&$t("Duplicate key on x-for",n),g.push(Z)},{scope:{index:C,...U}}),v.push(U)});else for(let C=0;C<u.length;C++){let H=Ls(o,u[C],C,u);c(U=>{g.includes(U)&&$t("Duplicate key on x-for",n),g.push(U)},{scope:{index:C,...H}}),v.push(H)}let x=[],D=[],I=[],S=[];for(let C=0;C<p.length;C++){let H=p[C];g.indexOf(H)===-1&&I.push(H)}p=p.filter(C=>!I.includes(C));let P="template";for(let C=0;C<g.length;C++){let H=g[C],U=p.indexOf(H);if(U===-1)p.splice(C,0,H),x.push([P,C]);else if(U!==C){let Z=p.splice(C,1)[0],et=p.splice(U-1,1)[0];p.splice(C,0,et),p.splice(U,0,Z),D.push([Z,et])}else S.push(H);P=H}for(let C=0;C<I.length;C++){let H=I[C];H in d&&(dt(()=>{vn(d[H]),d[H].remove()}),delete d[H])}for(let C=0;C<D.length;C++){let[H,U]=D[C],Z=d[H],et=d[U],ot=document.createElement("div");dt(()=>{et||$t('x-for ":key" is undefined or invalid',s,U,d),et.after(ot),Z.after(et),et._x_currentIfEl&&et.after(et._x_currentIfEl),ot.before(Z),Z._x_currentIfEl&&Z.after(Z._x_currentIfEl),ot.remove()}),et._x_refreshXForScope(v[g.indexOf(U)])}for(let C=0;C<x.length;C++){let[H,U]=x[C],Z=H==="template"?s:d[H];Z._x_currentIfEl&&(Z=Z._x_currentIfEl);let et=v[U],ot=g[U],at=document.importNode(s.content,!0).firstElementChild,_t=_n(et);ei(at,_t,s),at._x_refreshXForScope=xt=>{Object.entries(xt).forEach(([jt,ne])=>{_t[jt]=ne})},dt(()=>{Z.after(at),Me(()=>_e(at))()}),typeof ot=="object"&&$t("x-for key cannot be an object, it must be a string or an integer",s),d[ot]=at}for(let C=0;C<S.length;C++)d[S[C]]._x_refreshXForScope(v[g.indexOf(S[C])]);s._x_prevKeys=g})}function qf(n){let o=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,c=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=n.match(c);if(!r)return;let s={};s.items=r[2].trim();let u=r[1].replace(e,"").trim(),d=u.match(o);return d?(s.item=u.replace(o,"").trim(),s.index=d[1].trim(),d[2]&&(s.collection=d[2].trim())):s.item=u,s}function Ls(n,o,e,c){let r={};return/^\[.*\]$/.test(n.item)&&Array.isArray(o)?n.item.replace("[","").replace("]","").split(",").map(u=>u.trim()).forEach((u,d)=>{r[u]=o[d]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(o)&&typeof o=="object"?n.item.replace("{","").replace("}","").split(",").map(u=>u.trim()).forEach(u=>{r[u]=o[u]}):r[n.item]=o,n.index&&(r[n.index]=e),n.collection&&(r[n.collection]=c),r}function Vf(n){return!Array.isArray(n)&&!isNaN(n)}function ou(){}ou.inline=(n,{expression:o},{cleanup:e})=>{let c=ro(n);c._x_refs||(c._x_refs={}),c._x_refs[o]=n,e(()=>delete c._x_refs[o])};yt("ref",ou);yt("if",(n,{expression:o},{effect:e,cleanup:c})=>{n.tagName.toLowerCase()!=="template"&&$t("x-if can only be used on a <template> tag",n);let r=At(n,o),s=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let d=n.content.cloneNode(!0).firstElementChild;return ei(d,{},n),dt(()=>{n.after(d),Me(()=>_e(d))()}),n._x_currentIfEl=d,n._x_undoIf=()=>{dt(()=>{vn(d),d.remove()}),delete n._x_currentIfEl},d},u=()=>{n._x_undoIf&&(n._x_undoIf(),delete n._x_undoIf)};e(()=>r(d=>{d?s():u()})),c(()=>n._x_undoIf&&n._x_undoIf())});yt("id",(n,{expression:o},{evaluate:e})=>{e(o).forEach(r=>If(n,r))});so((n,o)=>{n._x_ids&&(o._x_ids=n._x_ids)});Gr(fl("@",pl(gn("on:"))));yt("on",Me((n,{value:o,modifiers:e,expression:c},{cleanup:r})=>{let s=c?At(n,c):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(o)||n._x_forwardEvents.push(o));let u=Dr(n,o,e,d=>{s(()=>{},{scope:{$event:d},params:[d]})});r(()=>u())}));ho("Collapse","collapse","collapse");ho("Intersect","intersect","intersect");ho("Focus","trap","focus");ho("Mask","mask","mask");function ho(n,o,e){yt(o,c=>$t(`You can't use [x-${o}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,c))}oi.setEvaluator(ul);oi.setReactivityEngine({reactive:ia,effect:af,release:sf,raw:ut});var $f=oi,ru=$f,Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,o){(function(e,c){c(o)})(Kf,function(e){var c="1.9.4";function r(t){var i,a,l,h;for(a=1,l=arguments.length;a<l;a++){h=arguments[a];for(i in h)t[i]=h[i]}return t}var s=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function u(t,i){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var l=a.call(arguments,2);return function(){return t.apply(i,l.length?l.concat(a.call(arguments)):arguments)}}var d=0;function p(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function v(t,i,a){var l,h,f,y;return y=function(){l=!1,h&&(f.apply(a,h),h=!1)},f=function(){l?h=arguments:(t.apply(a,arguments),setTimeout(y,i),l=!0)},f}function g(t,i,a){var l=i[1],h=i[0],f=l-h;return t===l&&a?t:((t-h)%f+f)%f+h}function x(){return!1}function D(t,i){if(i===!1)return t;var a=Math.pow(10,i===void 0?6:i);return Math.round(t*a)/a}function I(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S(t){return I(t).split(/\s+/)}function P(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?s(t.options):{});for(var a in i)t.options[a]=i[a];return t.options}function C(t,i,a){var l=[];for(var h in t)l.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!i||i.indexOf("?")===-1?"?":"&")+l.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function U(t,i){return t.replace(H,function(a,l){var h=i[l];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(i)),h})}var Z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function et(t,i){for(var a=0;a<t.length;a++)if(t[a]===i)return a;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _t=0;function xt(t){var i=+new Date,a=Math.max(0,16-(i-_t));return _t=i+a,window.setTimeout(t,a)}var jt=window.requestAnimationFrame||at("RequestAnimationFrame")||xt,ne=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Et(t,i,a){if(a&&jt===xt)t.call(i);else return jt.call(window,u(t,i))}function Lt(t){t&&ne.call(window,t)}var me={__proto__:null,extend:r,create:s,bind:u,get lastId(){return d},stamp:p,throttle:v,wrapNum:g,falseFn:x,formatNum:D,trim:I,splitWords:S,setOptions:P,getParamString:C,template:U,isArray:Z,indexOf:et,emptyImageUrl:ot,requestFn:jt,cancelFn:ne,requestAnimFrame:Et,cancelAnimFrame:Lt};function Kt(){}Kt.extend=function(t){var i=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,l=s(a);l.constructor=i,i.prototype=l;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(i[h]=this[h]);return t.statics&&r(i,t.statics),t.includes&&(ri(t.includes),r.apply(null,[l].concat(t.includes))),r(l,t),delete l.statics,delete l.includes,l.options&&(l.options=a.options?s(a.options):{},r(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,y=l._initHooks.length;f<y;f++)l._initHooks[f].call(this)}},i},Kt.include=function(t){var i=this.prototype.options;return r(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Kt.mergeOptions=function(t){return r(this.prototype.options,t),this},Kt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function ri(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Z(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Dt={on:function(t,i,a){if(typeof t=="object")for(var l in t)this._on(l,t[l],i);else{t=S(t);for(var h=0,f=t.length;h<f;h++)this._on(t[h],i,a)}return this},off:function(t,i,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],i);else{t=S(t);for(var h=arguments.length===1,f=0,y=t.length;f<y;f++)h?this._off(t[f]):this._off(t[f],i,a)}return this},_on:function(t,i,a,l){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,a)===!1){a===this&&(a=void 0);var h={fn:i,ctx:a};l&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,i,a){var l,h,f;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(h=0,f=l.length;h<f;h++)l[h].fn=x;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var y=this._listens(t,i,a);if(y!==!1){var b=l[y];this._firingCount&&(b.fn=x,this._events[t]=l=l.slice()),l.splice(y,1)}}},fire:function(t,i,a){if(!this.listens(t,a))return this;var l=r({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var f=0,y=h.length;f<y;f++){var b=h[f],E=b.fn;b.once&&this.off(t,E,b.ctx),E.call(b.ctx||this,l)}this._firingCount--}}return a&&this._propagateEvent(l),this},listens:function(t,i,a,l){typeof t!="string"&&console.warn('"string" type argument expected');var h=i;typeof i!="function"&&(l=!!i,h=void 0,a=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,h,a)!==!1)return!0;if(l){for(var y in this._eventParents)if(this._eventParents[y].listens(t,i,a,l))return!0}return!1},_listens:function(t,i,a){if(!this._events)return!1;var l=this._events[t]||[];if(!i)return!!l.length;a===this&&(a=void 0);for(var h=0,f=l.length;h<f;h++)if(l[h].fn===i&&l[h].ctx===a)return h;return!1},once:function(t,i,a){if(typeof t=="object")for(var l in t)this._on(l,t[l],i,!0);else{t=S(t);for(var h=0,f=t.length;h<f;h++)this._on(t[h],i,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[p(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[p(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,r({layer:t.target,propagatedFrom:t.target},t),!0)}};Dt.addEventListener=Dt.on,Dt.removeEventListener=Dt.clearAllEventListeners=Dt.off,Dt.addOneTimeEventListener=Dt.once,Dt.fireEvent=Dt.fire,Dt.hasEventListeners=Dt.listens;var Te=Kt.extend(Dt);function G(t,i,a){this.x=a?Math.round(t):t,this.y=a?Math.round(i):i}var yn=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(t){return this.clone()._add(W(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(W(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new G(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new G(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yn(this.x),this.y=yn(this.y),this},distanceTo:function(t){t=W(t);var i=t.x-this.x,a=t.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(t){return t=W(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=W(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function W(t,i,a){return t instanceof G?t:Z(t)?new G(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new G(t.x,t.y):new G(t,i,a)}function rt(t,i){if(t)for(var a=i?[t,i]:t,l=0,h=a.length;l<h;l++)this.extend(a[l])}rt.prototype={extend:function(t){var i,a;if(!t)return this;if(t instanceof G||typeof t[0]=="number"||"x"in t)i=a=W(t);else if(t=Mt(t),i=t.min,a=t.max,!i||!a)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=a.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,a;return typeof t[0]=="number"||t instanceof G?t=W(t):t=Mt(t),t instanceof rt?(i=t.min,a=t.max):i=a=t,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=Mt(t);var i=this.min,a=this.max,l=t.min,h=t.max,f=h.x>=i.x&&l.x<=a.x,y=h.y>=i.y&&l.y<=a.y;return f&&y},overlaps:function(t){t=Mt(t);var i=this.min,a=this.max,l=t.min,h=t.max,f=h.x>i.x&&l.x<a.x,y=h.y>i.y&&l.y<a.y;return f&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,a=this.max,l=Math.abs(i.x-a.x)*t,h=Math.abs(i.y-a.y)*t;return Mt(W(i.x-l,i.y-h),W(a.x+l,a.y+h))},equals:function(t){return t?(t=Mt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Mt(t,i){return!t||t instanceof rt?t:new rt(t,i)}function Tt(t,i){if(t)for(var a=i?[t,i]:t,l=0,h=a.length;l<h;l++)this.extend(a[l])}Tt.prototype={extend:function(t){var i=this._southWest,a=this._northEast,l,h;if(t instanceof Q)l=t,h=t;else if(t instanceof Tt){if(l=t._southWest,h=t._northEast,!l||!h)return this}else return t?this.extend(J(t)||ft(t)):this;return!i&&!a?(this._southWest=new Q(l.lat,l.lng),this._northEast=new Q(h.lat,h.lng)):(i.lat=Math.min(l.lat,i.lat),i.lng=Math.min(l.lng,i.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(t){var i=this._southWest,a=this._northEast,l=Math.abs(i.lat-a.lat)*t,h=Math.abs(i.lng-a.lng)*t;return new Tt(new Q(i.lat-l,i.lng-h),new Q(a.lat+l,a.lng+h))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Q||"lat"in t?t=J(t):t=ft(t);var i=this._southWest,a=this._northEast,l,h;return t instanceof Tt?(l=t.getSouthWest(),h=t.getNorthEast()):l=h=t,l.lat>=i.lat&&h.lat<=a.lat&&l.lng>=i.lng&&h.lng<=a.lng},intersects:function(t){t=ft(t);var i=this._southWest,a=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),f=h.lat>=i.lat&&l.lat<=a.lat,y=h.lng>=i.lng&&l.lng<=a.lng;return f&&y},overlaps:function(t){t=ft(t);var i=this._southWest,a=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),f=h.lat>i.lat&&l.lat<a.lat,y=h.lng>i.lng&&l.lng<a.lng;return f&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=ft(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ft(t,i){return t instanceof Tt?t:new Tt(t,i)}function Q(t,i,a){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,a!==void 0&&(this.alt=+a)}Q.prototype={equals:function(t,i){if(!t)return!1;t=J(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+D(this.lat,t)+", "+D(this.lng,t)+")"},distanceTo:function(t){return Ct.distance(this,J(t))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,a=i/Math.cos(Math.PI/180*this.lat);return ft([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function J(t,i,a){return t instanceof Q?t:Z(t)&&typeof t[0]!="object"?t.length===3?new Q(t[0],t[1],t[2]):t.length===2?new Q(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Q(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new Q(t,i,a)}var It={latLngToPoint:function(t,i){var a=this.projection.project(t),l=this.scale(i);return this.transformation._transform(a,l)},pointToLatLng:function(t,i){var a=this.scale(i),l=this.transformation.untransform(t,a);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(t),l=this.transformation.transform(i.min,a),h=this.transformation.transform(i.max,a);return new rt(l,h)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?g(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?g(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new Q(a,i,l)},wrapLatLngBounds:function(t){var i=t.getCenter(),a=this.wrapLatLng(i),l=i.lat-a.lat,h=i.lng-a.lng;if(l===0&&h===0)return t;var f=t.getSouthWest(),y=t.getNorthEast(),b=new Q(f.lat-l,f.lng-h),E=new Q(y.lat-l,y.lng-h);return new Tt(b,E)}},Ct=r({},It,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var a=Math.PI/180,l=t.lat*a,h=i.lat*a,f=Math.sin((i.lat-t.lat)*a/2),y=Math.sin((i.lng-t.lng)*a/2),b=f*f+Math.cos(l)*Math.cos(h)*y*y,E=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*E}}),Ce=6378137,wn={R:Ce,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,a=this.MAX_LATITUDE,l=Math.max(Math.min(a,t.lat),-a),h=Math.sin(l*i);return new G(this.R*t.lng*i,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var i=180/Math.PI;return new Q((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Ce*Math.PI;return new rt([-t,-t],[t,t])}()};function Ye(t,i,a,l){if(Z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=a,this._d=l}Ye.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new G((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function ie(t,i,a,l){return new Ye(t,i,a,l)}var Ln=r({},Ct,{code:"EPSG:3857",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return ie(t,.5,-t,.5)}()}),fo=r({},Ln,{code:"EPSG:900913"});function bn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ai(t,i){var a="",l,h,f,y,b,E;for(l=0,f=t.length;l<f;l++){for(b=t[l],h=0,y=b.length;h<y;h++)E=b[h],a+=(h?"L":"M")+E.x+" "+E.y;a+=i?A.svg?"z":"x":""}return a||"M0 0"}var qe=document.documentElement.style,Pe="ActiveXObject"in window,Ve=Pe&&!document.addEventListener,si="msLaunchUri"in navigator&&!("documentMode"in document),xn=F("webkit"),En=F("android"),$e=F("android 2")||F("android 3"),li=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ke=En&&F("Google")&&li<537&&!("AudioNode"in window),Mn=!!window.opera,Tn=!si&&F("chrome"),ui=F("gecko")&&!xn&&!Mn&&!Pe,ci=!Tn&&F("safari"),hi=F("phantom"),di="OTransition"in qe,fi=navigator.platform.indexOf("Win")===0,pi=Pe&&"transition"in qe,Cn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$e,st="MozPerspective"in qe,Pn=!window.L_DISABLE_3D&&(pi||Cn||st)&&!di&&!hi,le=typeof orientation<"u"||F("mobile"),po=le&&xn,Je=le&&Cn,Xe=!window.PointerEvent&&window.MSPointerEvent,Wt=!!(window.PointerEvent||Xe),_i="ontouchstart"in window||!!window.TouchEvent,_o=!window.L_NO_TOUCH&&(_i||Wt),_=le&&Mn,m=le&&ui,w=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,T=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,i),window.removeEventListener("testPassiveEventSupport",x,i)}catch{}return t}(),O=function(){return!!document.createElement("canvas").getContext}(),R=!!(document.createElementNS&&bn("svg").createSVGRect),Y=!!R&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),B=!R&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),$=navigator.platform.indexOf("Mac")===0,N=navigator.platform.indexOf("Linux")===0;function F(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var A={ie:Pe,ielt9:Ve,edge:si,webkit:xn,android:En,android23:$e,androidStock:Ke,opera:Mn,chrome:Tn,gecko:ui,safari:ci,phantom:hi,opera12:di,win:fi,ie3d:pi,webkit3d:Cn,gecko3d:st,any3d:Pn,mobile:le,mobileWebkit:po,mobileWebkit3d:Je,msPointer:Xe,pointer:Wt,touch:_o,touchNative:_i,mobileOpera:_,mobileGecko:m,retina:w,passiveEvents:T,canvas:O,svg:R,vml:B,inlineSvg:Y,mac:$,linux:N},Ft=A.msPointer?"MSPointerDown":"pointerdown",Pt=A.msPointer?"MSPointerMove":"pointermove",ge=A.msPointer?"MSPointerUp":"pointerup",ue=A.msPointer?"MSPointerCancel":"pointercancel",kn={touchstart:Ft,touchmove:Pt,touchend:ge,touchcancel:ue},Qe={touchstart:au,touchmove:vi,touchend:vi,touchcancel:vi},ve={},mi=!1;function mo(t,i,a){return i==="touchstart"&&wo(),Qe[i]?(a=Qe[i].bind(this,a),t.addEventListener(kn[i],a,!1),a):(console.warn("wrong event specified:",i),x)}function go(t,i,a){if(!kn[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(kn[i],a,!1)}function vo(t){ve[t.pointerId]=t}function yo(t){ve[t.pointerId]&&(ve[t.pointerId]=t)}function gi(t){delete ve[t.pointerId]}function wo(){mi||(document.addEventListener(Ft,vo,!0),document.addEventListener(Pt,yo,!0),document.addEventListener(ge,gi,!0),document.addEventListener(ue,gi,!0),mi=!0)}function vi(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var a in ve)i.touches.push(ve[a]);i.changedTouches=[i],t(i)}}function au(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&bt(i),vi(t,i)}function su(t){var i={},a,l;for(l in t)a=t[l],i[l]=a&&a.bind?a.bind(t):a;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var lu=200;function uu(t,i){t.addEventListener("dblclick",i);var a=0,l;function h(f){if(f.detail!==1){l=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var y=la(f);if(!(y.some(function(E){return E instanceof HTMLLabelElement&&E.attributes.for})&&!y.some(function(E){return E instanceof HTMLInputElement||E instanceof HTMLSelectElement}))){var b=Date.now();b-a<=lu?(l++,l===2&&i(su(f))):l=1,a=b}}}return t.addEventListener("click",h),{dblclick:i,simDblclick:h}}function cu(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var Lo=Li(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dn=Li(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),oa=Dn==="webkitTransition"||Dn==="OTransition"?Dn+"End":"transitionend";function ra(t){return typeof t=="string"?document.getElementById(t):t}function Sn(t,i){var a=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!a||a==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);a=l?l[i]:null}return a==="auto"?null:a}function nt(t,i,a){var l=document.createElement(t);return l.className=i||"",a&&a.appendChild(l),l}function ht(t){var i=t.parentNode;i&&i.removeChild(t)}function yi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function tn(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function en(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function bo(t,i){if(t.classList!==void 0)return t.classList.contains(i);var a=wi(t);return a.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(a)}function K(t,i){if(t.classList!==void 0)for(var a=S(i),l=0,h=a.length;l<h;l++)t.classList.add(a[l]);else if(!bo(t,i)){var f=wi(t);xo(t,(f?f+" ":"")+i)}}function pt(t,i){t.classList!==void 0?t.classList.remove(i):xo(t,I((" "+wi(t)+" ").replace(" "+i+" "," ")))}function xo(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function wi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Gt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&hu(t,i)}function hu(t,i){var a=!1,l="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(l)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):t.style.filter+=" progid:"+l+"(opacity="+i+")"}function Li(t){for(var i=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in i)return t[a];return!1}function ke(t,i,a){var l=i||new G(0,0);t.style[Lo]=(A.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(a?" scale("+a+")":"")}function mt(t,i){t._leaflet_pos=i,A.any3d?ke(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function De(t){return t._leaflet_pos||new G(0,0)}var On,An,Eo;if("onselectstart"in document)On=function(){q(window,"selectstart",bt)},An=function(){lt(window,"selectstart",bt)};else{var In=Li(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);On=function(){if(In){var t=document.documentElement.style;Eo=t[In],t[In]="none"}},An=function(){In&&(document.documentElement.style[In]=Eo,Eo=void 0)}}function Mo(){q(window,"dragstart",bt)}function To(){lt(window,"dragstart",bt)}var bi,Co;function Po(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(xi(),bi=t,Co=t.style.outlineStyle,t.style.outlineStyle="none",q(window,"keydown",xi))}function xi(){bi&&(bi.style.outlineStyle=Co,bi=void 0,Co=void 0,lt(window,"keydown",xi))}function aa(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ko(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var du={__proto__:null,TRANSFORM:Lo,TRANSITION:Dn,TRANSITION_END:oa,get:ra,getStyle:Sn,create:nt,remove:ht,empty:yi,toFront:tn,toBack:en,hasClass:bo,addClass:K,removeClass:pt,setClass:xo,getClass:wi,setOpacity:Gt,testProp:Li,setTransform:ke,setPosition:mt,getPosition:De,get disableTextSelection(){return On},get enableTextSelection(){return An},disableImageDrag:Mo,enableImageDrag:To,preventOutline:Po,restoreOutline:xi,getSizedParentNode:aa,getScale:ko};function q(t,i,a,l){if(i&&typeof i=="object")for(var h in i)So(t,h,i[h],a);else{i=S(i);for(var f=0,y=i.length;f<y;f++)So(t,i[f],a,l)}return this}var oe="_leaflet_events";function lt(t,i,a,l){if(arguments.length===1)sa(t),delete t[oe];else if(i&&typeof i=="object")for(var h in i)Oo(t,h,i[h],a);else if(i=S(i),arguments.length===2)sa(t,function(b){return et(i,b)!==-1});else for(var f=0,y=i.length;f<y;f++)Oo(t,i[f],a,l);return this}function sa(t,i){for(var a in t[oe]){var l=a.split(/\d/)[0];(!i||i(l))&&Oo(t,l,null,null,a)}}var Do={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function So(t,i,a,l){var h=i+p(a)+(l?"_"+p(l):"");if(t[oe]&&t[oe][h])return this;var f=function(b){return a.call(l||t,b||window.event)},y=f;!A.touchNative&&A.pointer&&i.indexOf("touch")===0?f=mo(t,i,f):A.touch&&i==="dblclick"?f=uu(t,f):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Do[i]||i,f,A.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(f=function(b){b=b||window.event,Io(t,b)&&y(b)},t.addEventListener(Do[i],f,!1)):t.addEventListener(i,y,!1):t.attachEvent("on"+i,f),t[oe]=t[oe]||{},t[oe][h]=f}function Oo(t,i,a,l,h){h=h||i+p(a)+(l?"_"+p(l):"");var f=t[oe]&&t[oe][h];if(!f)return this;!A.touchNative&&A.pointer&&i.indexOf("touch")===0?go(t,i,f):A.touch&&i==="dblclick"?cu(t,f):"removeEventListener"in t?t.removeEventListener(Do[i]||i,f,!1):t.detachEvent("on"+i,f),t[oe][h]=null}function Se(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ao(t){return So(t,"wheel",Se),this}function Rn(t){return q(t,"mousedown touchstart dblclick contextmenu",Se),t._leaflet_disable_click=!0,this}function bt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Oe(t){return bt(t),Se(t),this}function la(t){if(t.composedPath)return t.composedPath();for(var i=[],a=t.target;a;)i.push(a),a=a.parentNode;return i}function ua(t,i){if(!i)return new G(t.clientX,t.clientY);var a=ko(i),l=a.boundingClientRect;return new G((t.clientX-l.left)/a.x-i.clientLeft,(t.clientY-l.top)/a.y-i.clientTop)}var fu=A.linux&&A.chrome?window.devicePixelRatio:A.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ca(t){return A.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/fu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Io(t,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var pu={__proto__:null,on:q,off:lt,stopPropagation:Se,disableScrollPropagation:Ao,disableClickPropagation:Rn,preventDefault:bt,stop:Oe,getPropagationPath:la,getMousePosition:ua,getWheelDelta:ca,isExternalTarget:Io,addListener:q,removeListener:lt},ha=Te.extend({run:function(t,i,a,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=De(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Et(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var a=this._startPos.add(this._offset.multiplyBy(t));i&&a._round(),mt(this._el,a),this.fire("step")},_complete:function(){Lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),tt=Te.extend({options:{crs:Ln,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=P(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(J(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dn&&A.any3d&&!A.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(J(t),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=r({animate:a.animate},a.zoom),a.pan=r({animate:a.animate,duration:a.duration},a.pan));var l=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,a.zoom):this._tryAnimatedPan(t,a.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,a){var l=this.getZoomScale(i),h=this.getSize().divideBy(2),f=t instanceof G?t:this.latLngToContainerPoint(t),y=f.subtract(h).multiplyBy(1-1/l),b=this.containerPointToLatLng(h.add(y));return this.setView(b,i,{zoom:a})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ft(t);var a=W(i.paddingTopLeft||i.padding||[0,0]),l=W(i.paddingBottomRight||i.padding||[0,0]),h=this.getBoundsZoom(t,!1,a.add(l));if(h=typeof i.maxZoom=="number"?Math.min(i.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var f=l.subtract(a).divideBy(2),y=this.project(t.getSouthWest(),h),b=this.project(t.getNorthEast(),h),E=this.unproject(y.add(b).divideBy(2).add(f),h);return{center:E,zoom:h}},fitBounds:function(t,i){if(t=ft(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=W(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ha,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){K(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,a){if(a=a||{},a.animate===!1||!A.any3d)return this.setView(t,i,a);this._stop();var l=this.project(this.getCenter()),h=this.project(t),f=this.getSize(),y=this._zoom;t=J(t),i=i===void 0?y:i;var b=Math.max(f.x,f.y),E=b*this.getZoomScale(y,i),k=h.distanceTo(l)||1,z=1.42,j=z*z;function X(gt){var Ri=gt?-1:1,nc=gt?E:b,ic=E*E-b*b+Ri*j*j*k*k,oc=2*nc*j*k,Go=ic/oc,Ga=Math.sqrt(Go*Go+1)-Go,rc=Ga<1e-9?-18:Math.log(Ga);return rc}function St(gt){return(Math.exp(gt)-Math.exp(-gt))/2}function wt(gt){return(Math.exp(gt)+Math.exp(-gt))/2}function qt(gt){return St(gt)/wt(gt)}var Rt=X(0);function ln(gt){return b*(wt(Rt)/wt(Rt+z*gt))}function Xu(gt){return b*(wt(Rt)*qt(Rt+z*gt)-St(Rt))/j}function Qu(gt){return 1-Math.pow(1-gt,1.5)}var tc=Date.now(),ja=(X(1)-Rt)/z,ec=a.duration?1e3*a.duration:1e3*ja*.8;function Wa(){var gt=(Date.now()-tc)/ec,Ri=Qu(gt)*ja;gt<=1?(this._flyToFrame=Et(Wa,this),this._move(this.unproject(l.add(h.subtract(l).multiplyBy(Xu(Ri)/k)),y),this.getScaleZoom(b/ln(Ri),y),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Wa.call(this),this},flyToBounds:function(t,i){var a=this._getBoundsCenterZoom(t,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(t){return t=ft(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var a=this.getCenter(),l=this._limitCenter(a,this._zoom,ft(t));return a.equals(l)||this.panTo(l,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var a=W(i.paddingTopLeft||i.padding||[0,0]),l=W(i.paddingBottomRight||i.padding||[0,0]),h=this.project(this.getCenter()),f=this.project(t),y=this.getPixelBounds(),b=Mt([y.min.add(a),y.max.subtract(l)]),E=b.getSize();if(!b.contains(f)){this._enforcingBounds=!0;var k=f.subtract(b.getCenter()),z=b.extend(f).getSize().subtract(E);h.x+=k.x<0?-z.x:z.x,h.y+=k.y<0?-z.y:z.y,this.panTo(this.unproject(h),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=r({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),l=i.divideBy(2).round(),h=a.divideBy(2).round(),f=l.subtract(h);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=r({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=u(this._handleGeolocationResponse,this),a=u(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,t):navigator.geolocation.getCurrentPosition(i,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,a=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,a=t.coords.longitude,l=new Q(i,a),h=l.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var y=this.getBoundsZoom(h);this.setView(l,f.maxZoom?Math.min(y,f.maxZoom):y)}var b={latlng:l,bounds:h,timestamp:t.timestamp};for(var E in t.coords)typeof t.coords[E]=="number"&&(b[E]=t.coords[E]);this.fire("locationfound",b)}},addHandler:function(t,i){if(!i)return this;var a=this[t]=new i(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ht(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=nt("div",a,i||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new Tt(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,a){t=ft(t),a=W(a||[0,0]);var l=this.getZoom()||0,h=this.getMinZoom(),f=this.getMaxZoom(),y=t.getNorthWest(),b=t.getSouthEast(),E=this.getSize().subtract(a),k=Mt(this.project(b,l),this.project(y,l)).getSize(),z=A.any3d?this.options.zoomSnap:1,j=E.x/k.x,X=E.y/k.y,St=i?Math.max(j,X):Math.min(j,X);return l=this.getScaleZoom(St,l),z&&(l=Math.round(l/(z/100))*(z/100),l=i?Math.ceil(l/z)*z:Math.floor(l/z)*z),Math.max(h,Math.min(f,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var a=this._getTopLeftPoint(t,i);return new rt(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(t)/a.scale(i)},getScaleZoom:function(t,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var l=a.zoom(t*a.scale(i));return isNaN(l)?1/0:l},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(J(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(W(t),i)},layerPointToLatLng:function(t){var i=W(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(J(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(J(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ft(t))},distance:function(t,i){return this.options.crs.distance(J(t),J(i))},containerPointToLayerPoint:function(t){return W(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return W(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(W(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(t)))},mouseEventToContainerPoint:function(t){return ua(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=ra(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");q(i,"scroll",this._onScroll,this),this._containerId=p(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&A.any3d,K(t,"leaflet-container"+(A.touch?" leaflet-touch":"")+(A.retina?" leaflet-retina":"")+(A.ielt9?" leaflet-oldie":"")+(A.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Sn(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(K(t.markerPane,"leaflet-zoom-hide"),K(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,a){mt(this._mapPane,new G(0,0));var l=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var h=this._zoom!==i;this._moveStart(h,a)._move(t,i)._moveEnd(h),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,a,l){i===void 0&&(i=this._zoom);var h=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){mt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[p(this._container)]=this;var i=t?lt:q;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),A.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Lt(this._resizeRequest),this._resizeRequest=Et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var a=[],l,h=i==="mouseout"||i==="mouseover",f=t.target||t.srcElement,y=!1;f;){if(l=this._targets[p(f)],l&&(i==="click"||i==="preclick")&&this._draggableMoved(l)){y=!0;break}if(l&&l.listens(i,!0)&&(h&&!Io(f,t)||(a.push(l),h))||f===this._container)break;f=f.parentNode}return!a.length&&!y&&!h&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var a=t.type;a==="mousedown"&&Po(i),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,a){if(t.type==="click"){var l=r({},t);l.type="preclick",this._fireDOMEvent(l,l.type,a)}var h=this._findEventTargets(t,i);if(a){for(var f=[],y=0;y<a.length;y++)a[y].listens(i,!0)&&f.push(a[y]);h=f.concat(h)}if(h.length){i==="contextmenu"&&bt(t);var b=h[0],E={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var k=b.getLatLng&&(!b._radius||b._radius<=10);E.containerPoint=k?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(t),E.layerPoint=this.containerPointToLayerPoint(E.containerPoint),E.latlng=k?b.getLatLng():this.layerPointToLatLng(E.layerPoint)}for(y=0;y<h.length;y++)if(h[y].fire(i,E,!0),E.originalEvent._stopped||h[y].options.bubblingMouseEvents===!1&&et(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return De(this._mapPane)||new G(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var a=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var a=this.getSize()._divideBy(2);return this.project(t,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,a){var l=this._getNewPixelOrigin(a,i);return this.project(t,i)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,i,a){var l=this._getNewPixelOrigin(a,i);return Mt([this.project(t.getSouthWest(),i)._subtract(l),this.project(t.getNorthWest(),i)._subtract(l),this.project(t.getSouthEast(),i)._subtract(l),this.project(t.getNorthEast(),i)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,a){if(!a)return t;var l=this.project(t,i),h=this.getSize().divideBy(2),f=new rt(l.subtract(h),l.add(h)),y=this._getBoundsOffset(f,a,i);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?t:this.unproject(l.add(y),i)},_limitOffset:function(t,i){if(!i)return t;var a=this.getPixelBounds(),l=new rt(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(l,i))},_getBoundsOffset:function(t,i,a){var l=Mt(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),h=l.min.subtract(t.min),f=l.max.subtract(t.max),y=this._rebound(h.x,-f.x),b=this._rebound(h.y,-f.y);return new G(y,b)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),a=this.getMaxZoom(),l=A.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(i,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var a=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var t=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var a=Lo,l=this._proxy.style[a];ke(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),l===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();ke(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(i),h=this._getCenterOffset(t)._divideBy(1-1/l);return a.animate!==!0&&!this.getSize().contains(h)?!1:(Et(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,a,l){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,K(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _u(t,i){return new tt(t,i)}var Jt=Kt.extend({options:{position:"topright"},initialize:function(t){P(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),a=this.getPosition(),l=t._controlCorners[a];return K(i,"leaflet-control"),a.indexOf("bottom")!==-1?l.insertBefore(i,l.firstChild):l.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),zn=function(t){return new Jt(t)};tt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",a=this._controlContainer=nt("div",i+"control-container",this._container);function l(h,f){var y=i+h+" "+i+f;t[h+f]=nt("div",y,a)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ht(this._controlCorners[t]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var da=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,a,l){return a<l?-1:l<a?1:0}},initialize:function(t,i,a){P(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in i)this._addLayer(i[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(p(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){K(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(K(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=nt("div",t),a=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Rn(i),Ao(i);var l=this._section=nt("section",t+"-list");a&&(this._map.on("click",this.collapse,this),q(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=nt("a",t+"-toggle",i);h.href="#",h.title="Layers",h.setAttribute("role","button"),q(h,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){bt(f),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=nt("div",t+"-base",l),this._separator=nt("div",t+"-separator",l),this._overlaysList=nt("div",t+"-overlays",l),i.appendChild(l)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&p(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(u(function(l,h){return this.options.sortFunction(l.layer,h.layer,l.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yi(this._baseLayersList),yi(this._overlaysList),this._layerControlInputs=[];var t,i,a,l,h=0;for(a=0;a<this._layers.length;a++)l=this._layers[a],this._addItem(l),i=i||l.overlay,t=t||!l.overlay,h+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(p(t.target)),a=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,i)},_createRadioElement:function(t,i){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=a,l.firstChild},_addItem:function(t){var i=document.createElement("label"),a=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=a):l=this._createRadioElement("leaflet-base-layers_"+p(this),a),this._layerControlInputs.push(l),l.layerId=p(t.layer),q(l,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var f=document.createElement("span");i.appendChild(f),f.appendChild(l),f.appendChild(h);var y=t.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,a,l=[],h=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)i=t[f],a=this._getLayer(i.layerId).layer,i.checked?l.push(a):i.checked||h.push(a);for(f=0;f<h.length;f++)this._map.hasLayer(h[f])&&this._map.removeLayer(h[f]);for(f=0;f<l.length;f++)this._map.hasLayer(l[f])||this._map.addLayer(l[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,a,l=this._map.getZoom(),h=t.length-1;h>=0;h--)i=t[h],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&l<a.options.minZoom||a.options.maxZoom!==void 0&&l>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,q(t,"click",bt),this.expand();var i=this;setTimeout(function(){lt(t,"click",bt),i._preventClick=!1})}}),mu=function(t,i,a){return new da(t,i,a)},Ro=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",a=nt("div",i+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,i+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,i+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,a,l,h){var f=nt("a",a,l);return f.innerHTML=t,f.href="#",f.title=i,f.setAttribute("role","button"),f.setAttribute("aria-label",i),Rn(f),q(f,"click",Oe),q(f,"click",h,this),q(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";pt(this._zoomInButton,i),pt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(K(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(K(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});tt.mergeOptions({zoomControl:!0}),tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ro,this.addControl(this.zoomControl))});var gu=function(t){return new Ro(t)},fa=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",a=nt("div",i),l=this.options;return this._addScales(l,i+"-line",a),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,a){t.metric&&(this._mScale=nt("div",i,a)),t.imperial&&(this._iScale=nt("div",i,a))},_update:function(){var t=this._map,i=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),a=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,a,i/t)},_updateImperial:function(t){var i=t*3.2808399,a,l,h;i>5280?(a=i/5280,l=this._getRoundNum(a),this._updateScale(this._iScale,l+" mi",l/a)):(h=this._getRoundNum(i),this._updateScale(this._iScale,h+" ft",h/i))},_updateScale:function(t,i,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),a=t/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),vu=function(t){return new fa(t)},yu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zo=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(A.inlineSvg?yu+" ":"")+"Leaflet</a>"},initialize:function(t){P(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),Rn(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});tt.mergeOptions({attributionControl:!0}),tt.addInitHook(function(){this.options.attributionControl&&new zo().addTo(this)});var wu=function(t){return new zo(t)};Jt.Layers=da,Jt.Zoom=Ro,Jt.Scale=fa,Jt.Attribution=zo,zn.layers=mu,zn.zoom=gu,zn.scale=vu,zn.attribution=wu;var re=Kt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});re.addTo=function(t,i){return t.addHandler(i,this),this};var Lu={Events:Dt},pa=A.touch?"touchstart mousedown":"mousedown",ye=Te.extend({options:{clickTolerance:3},initialize:function(t,i,a,l){P(this,l),this._element=t,this._dragStartTarget=i||t,this._preventOutline=a},enable:function(){this._enabled||(q(this._dragStartTarget,pa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ye._dragging===this&&this.finishDrag(!0),lt(this._dragStartTarget,pa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!bo(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ye._dragging===this&&this.finishDrag();return}if(!(ye._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ye._dragging=this,this._preventOutline&&Po(this._element),Mo(),On(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,a=aa(this._element);this._startPoint=new G(i.clientX,i.clientY),this._startPos=De(this._element),this._parentScale=ko(a);var l=t.type==="mousedown";q(document,l?"mousemove":"touchmove",this._onMove,this),q(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,a=new G(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,bt(t),this._moved||(this.fire("dragstart"),this._moved=!0,K(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),K(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),mt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),lt(document,"mousemove touchmove",this._onMove,this),lt(document,"mouseup touchend touchcancel",this._onUp,this),To(),An();var i=this._moved&&this._moving;this._moving=!1,ye._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function _a(t,i,a){var l,h=[1,4,2,8],f,y,b,E,k,z,j,X;for(f=0,z=t.length;f<z;f++)t[f]._code=Ae(t[f],i);for(b=0;b<4;b++){for(j=h[b],l=[],f=0,z=t.length,y=z-1;f<z;y=f++)E=t[f],k=t[y],E._code&j?k._code&j||(X=Ei(k,E,j,i,a),X._code=Ae(X,i),l.push(X)):(k._code&j&&(X=Ei(k,E,j,i,a),X._code=Ae(X,i),l.push(X)),l.push(E));t=l}return t}function ma(t,i){var a,l,h,f,y,b,E,k,z;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var j=J([0,0]),X=ft(t),St=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());St<1700&&(j=No(t));var wt=t.length,qt=[];for(a=0;a<wt;a++){var Rt=J(t[a]);qt.push(i.project(J([Rt.lat-j.lat,Rt.lng-j.lng])))}for(b=E=k=0,a=0,l=wt-1;a<wt;l=a++)h=qt[a],f=qt[l],y=h.y*f.x-f.y*h.x,E+=(h.x+f.x)*y,k+=(h.y+f.y)*y,b+=y*3;b===0?z=qt[0]:z=[E/b,k/b];var ln=i.unproject(W(z));return J([ln.lat+j.lat,ln.lng+j.lng])}function No(t){for(var i=0,a=0,l=0,h=0;h<t.length;h++){var f=J(t[h]);i+=f.lat,a+=f.lng,l++}return J([i/l,a/l])}var bu={__proto__:null,clipPolygon:_a,polygonCenter:ma,centroid:No};function ga(t,i){if(!i||!t.length)return t.slice();var a=i*i;return t=Mu(t,a),t=Eu(t,a),t}function va(t,i,a){return Math.sqrt(Nn(t,i,a,!0))}function xu(t,i,a){return Nn(t,i,a)}function Eu(t,i){var a=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,h=new l(a);h[0]=h[a-1]=1,Bo(t,h,i,0,a-1);var f,y=[];for(f=0;f<a;f++)h[f]&&y.push(t[f]);return y}function Bo(t,i,a,l,h){var f=0,y,b,E;for(b=l+1;b<=h-1;b++)E=Nn(t[b],t[l],t[h],!0),E>f&&(y=b,f=E);f>a&&(i[y]=1,Bo(t,i,a,l,y),Bo(t,i,a,y,h))}function Mu(t,i){for(var a=[t[0]],l=1,h=0,f=t.length;l<f;l++)Tu(t[l],t[h])>i&&(a.push(t[l]),h=l);return h<f-1&&a.push(t[f-1]),a}var ya;function wa(t,i,a,l,h){var f=l?ya:Ae(t,a),y=Ae(i,a),b,E,k;for(ya=y;;){if(!(f|y))return[t,i];if(f&y)return!1;b=f||y,E=Ei(t,i,b,a,h),k=Ae(E,a),b===f?(t=E,f=k):(i=E,y=k)}}function Ei(t,i,a,l,h){var f=i.x-t.x,y=i.y-t.y,b=l.min,E=l.max,k,z;return a&8?(k=t.x+f*(E.y-t.y)/y,z=E.y):a&4?(k=t.x+f*(b.y-t.y)/y,z=b.y):a&2?(k=E.x,z=t.y+y*(E.x-t.x)/f):a&1&&(k=b.x,z=t.y+y*(b.x-t.x)/f),new G(k,z,h)}function Ae(t,i){var a=0;return t.x<i.min.x?a|=1:t.x>i.max.x&&(a|=2),t.y<i.min.y?a|=4:t.y>i.max.y&&(a|=8),a}function Tu(t,i){var a=i.x-t.x,l=i.y-t.y;return a*a+l*l}function Nn(t,i,a,l){var h=i.x,f=i.y,y=a.x-h,b=a.y-f,E=y*y+b*b,k;return E>0&&(k=((t.x-h)*y+(t.y-f)*b)/E,k>1?(h=a.x,f=a.y):k>0&&(h+=y*k,f+=b*k)),y=t.x-h,b=t.y-f,l?y*y+b*b:new G(h,f)}function Yt(t){return!Z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function La(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(t)}function ba(t,i){var a,l,h,f,y,b,E,k;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var z=J([0,0]),j=ft(t),X=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());X<1700&&(z=No(t));var St=t.length,wt=[];for(a=0;a<St;a++){var qt=J(t[a]);wt.push(i.project(J([qt.lat-z.lat,qt.lng-z.lng])))}for(a=0,l=0;a<St-1;a++)l+=wt[a].distanceTo(wt[a+1])/2;if(l===0)k=wt[0];else for(a=0,f=0;a<St-1;a++)if(y=wt[a],b=wt[a+1],h=y.distanceTo(b),f+=h,f>l){E=(f-l)/h,k=[b.x-E*(b.x-y.x),b.y-E*(b.y-y.y)];break}var Rt=i.unproject(W(k));return J([Rt.lat+z.lat,Rt.lng+z.lng])}var Cu={__proto__:null,simplify:ga,pointToSegmentDistance:va,closestPointOnSegment:xu,clipSegment:wa,_getEdgeIntersection:Ei,_getBitCode:Ae,_sqClosestPointOnSegment:Nn,isFlat:Yt,_flat:La,polylineCenter:ba},Fo={project:function(t){return new G(t.lng,t.lat)},unproject:function(t){return new Q(t.y,t.x)},bounds:new rt([-180,-90],[180,90])},Ho={R:6378137,R_MINOR:6356752314245179e-9,bounds:new rt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,a=this.R,l=t.lat*i,h=this.R_MINOR/a,f=Math.sqrt(1-h*h),y=f*Math.sin(l),b=Math.tan(Math.PI/4-l/2)/Math.pow((1-y)/(1+y),f/2);return l=-a*Math.log(Math.max(b,1e-10)),new G(t.lng*i*a,l)},unproject:function(t){for(var i=180/Math.PI,a=this.R,l=this.R_MINOR/a,h=Math.sqrt(1-l*l),f=Math.exp(-t.y/a),y=Math.PI/2-2*Math.atan(f),b=0,E=.1,k;b<15&&Math.abs(E)>1e-7;b++)k=h*Math.sin(y),k=Math.pow((1-k)/(1+k),h/2),E=Math.PI/2-2*Math.atan(f*k)-y,y+=E;return new Q(y*i,t.x*i/a)}},Pu={__proto__:null,LonLat:Fo,Mercator:Ho,SphericalMercator:wn},ku=r({},Ct,{code:"EPSG:3395",projection:Ho,transformation:function(){var t=.5/(Math.PI*Ho.R);return ie(t,.5,-t,.5)}()}),xa=r({},Ct,{code:"EPSG:4326",projection:Fo,transformation:ie(1/180,1,-1/180,.5)}),Du=r({},It,{projection:Fo,transformation:ie(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var a=i.lng-t.lng,l=i.lat-t.lat;return Math.sqrt(a*a+l*l)},infinite:!0});It.Earth=Ct,It.EPSG3395=ku,It.EPSG3857=Ln,It.EPSG900913=fo,It.EPSG4326=xa,It.Simple=Du;var Xt=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[p(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[p(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var a=this.getEvents();i.on(a,this),this.once("remove",function(){i.off(a,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});tt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=p(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=p(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return p(t)in this._layers},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},_addLayers:function(t){t=t?Z(t)?t:[t]:[];for(var i=0,a=t.length;i<a;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[p(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=p(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,a=this._getZoomSpan();for(var l in this._zoomBoundLayers){var h=this._zoomBoundLayers[l].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),i=h.maxZoom===void 0?i:Math.max(i,h.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nn=Xt.extend({initialize:function(t,i){P(this,i),this._layers={};var a,l;if(t)for(a=0,l=t.length;a<l;a++)this.addLayer(t[a])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),a,l;for(a in this._layers)l=this._layers[a],l[t]&&l[t].apply(l,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return p(t)}}),Su=function(t,i){return new nn(t,i)},ce=nn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),nn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),nn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Tt;for(var i in this._layers){var a=this._layers[i];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),Ou=function(t,i){return new ce(t,i)},on=Kt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){P(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(a,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,i){var a=this.options,l=a[i+"Size"];typeof l=="number"&&(l=[l,l]);var h=W(l),f=W(i==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(a.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return A.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Au(t){return new on(t)}var Bn=on.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Bn.imagePath!="string"&&(Bn.imagePath=this._detectIconPath()),(this.options.imagePath||Bn.imagePath)+on.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(a,l,h){var f=l.exec(a);return f&&f[h]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=nt("div","leaflet-default-icon-path",document.body),i=Sn(t,"background-image")||Sn(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Ea=re.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ye(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),K(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,a=i._map,l=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,f=De(i._icon),y=a.getPixelBounds(),b=a.getPixelOrigin(),E=Mt(y.min._subtract(b).add(h),y.max._subtract(b).subtract(h));if(!E.contains(f)){var k=W((Math.max(E.max.x,f.x)-E.max.x)/(y.max.x-E.max.x)-(Math.min(E.min.x,f.x)-E.min.x)/(y.min.x-E.min.x),(Math.max(E.max.y,f.y)-E.max.y)/(y.max.y-E.max.y)-(Math.min(E.min.y,f.y)-E.min.y)/(y.min.y-E.min.y)).multiplyBy(l);a.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),mt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Et(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Lt(this._panRequest),this._panRequest=Et(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,a=i._shadow,l=De(i._icon),h=i._map.layerPointToLatLng(l);a&&mt(a,l),i._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Mi=Xt.extend({options:{icon:new Bn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){P(this,i),this._latlng=J(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=J(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),l=!1;a!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),K(a,i),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&q(a,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),f=!1;h!==this._shadow&&(this._removeShadow(),f=!0),h&&(K(h,i),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&mt(this._icon,t),this._shadow&&mt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(K(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ea)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ea(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Gt(this._icon,t),this._shadow&&Gt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,a=i.iconSize?W(i.iconSize):W(0,0),l=i.iconAnchor?W(i.iconAnchor):W(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:a.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Iu(t,i){return new Mi(t,i)}var we=Xt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return P(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ti=we.extend({options:{fill:!0,radius:10},initialize:function(t,i){P(this,i),this._latlng=J(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=J(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return we.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,a=this._clickTolerance(),l=[t+a,i+a];this._pxBounds=new rt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ru(t,i){return new Ti(t,i)}var Zo=Ti.extend({initialize:function(t,i,a){if(typeof i=="number"&&(i=r({},a,{radius:i})),P(this,i),this._latlng=J(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Tt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:we.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,a=this._map,l=a.options.crs;if(l.distance===Ct.distance){var h=Math.PI/180,f=this._mRadius/Ct.R/h,y=a.project([i+f,t]),b=a.project([i-f,t]),E=y.add(b).divideBy(2),k=a.unproject(E).lat,z=Math.acos((Math.cos(f*h)-Math.sin(i*h)*Math.sin(k*h))/(Math.cos(i*h)*Math.cos(k*h)))/h;(isNaN(z)||z===0)&&(z=f/Math.cos(Math.PI/180*i)),this._point=E.subtract(a.getPixelOrigin()),this._radius=isNaN(z)?0:E.x-a.project([k,t-z]).x,this._radiusY=E.y-y.y}else{var j=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(j).x}this._updateBounds()}});function zu(t,i,a){return new Zo(t,i,a)}var he=we.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){P(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,a=null,l=Nn,h,f,y=0,b=this._parts.length;y<b;y++)for(var E=this._parts[y],k=1,z=E.length;k<z;k++){h=E[k-1],f=E[k];var j=l(t,h,f,!0);j<i&&(i=j,a=l(t,h,f))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ba(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=J(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Tt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],a=Yt(t),l=0,h=t.length;l<h;l++)a?(i[l]=J(t[l]),this._bounds.extend(i[l])):i[l]=this._convertLatLngs(t[l]);return i},_project:function(){var t=new rt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new G(t,t);this._rawPxBounds&&(this._pxBounds=new rt([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,a){var l=t[0]instanceof Q,h=t.length,f,y;if(l){for(y=[],f=0;f<h;f++)y[f]=this._map.latLngToLayerPoint(t[f]),a.extend(y[f]);i.push(y)}else for(f=0;f<h;f++)this._projectLatlngs(t[f],i,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,a,l,h,f,y,b,E;for(a=0,h=0,f=this._rings.length;a<f;a++)for(E=this._rings[a],l=0,y=E.length;l<y-1;l++)b=wa(E[l],E[l+1],t,l,!0),b&&(i[h]=i[h]||[],i[h].push(b[0]),(b[1]!==E[l+1]||l===y-2)&&(i[h].push(b[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,a=0,l=t.length;a<l;a++)t[a]=ga(t[a],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var a,l,h,f,y,b,E=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,f=this._parts.length;a<f;a++)for(b=this._parts[a],l=0,y=b.length,h=y-1;l<y;h=l++)if(!(!i&&l===0)&&va(t,b[h],b[l])<=E)return!0;return!1}});function Nu(t,i){return new he(t,i)}he._flat=La;var rn=he.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ma(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=he.prototype._convertLatLngs.call(this,t),a=i.length;return a>=2&&i[0]instanceof Q&&i[0].equals(i[a-1])&&i.pop(),i},_setLatLngs:function(t){he.prototype._setLatLngs.call(this,t),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,a=new G(i,i);if(t=new rt(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,h=this._rings.length,f;l<h;l++)f=_a(this._rings[l],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,a,l,h,f,y,b,E,k;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,E=this._parts.length;f<E;f++)for(a=this._parts[f],y=0,k=a.length,b=k-1;y<k;b=y++)l=a[y],h=a[b],l.y>t.y!=h.y>t.y&&t.x<(h.x-l.x)*(t.y-l.y)/(h.y-l.y)+l.x&&(i=!i);return i||he.prototype._containsPoint.call(this,t,!0)}});function Bu(t,i){return new rn(t,i)}var de=ce.extend({initialize:function(t,i){P(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=Z(t)?t:t.features,a,l,h;if(i){for(a=0,l=i.length;a<l;a++)h=i[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var y=Ci(t,f);return y?(y.feature=Di(t),y.defaultOptions=y.options,this.resetStyle(y),f.onEachFeature&&f.onEachFeature(t,y),this.addLayer(y)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=r({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Ci(t,i){var a=t.type==="Feature"?t.geometry:t,l=a?a.coordinates:null,h=[],f=i&&i.pointToLayer,y=i&&i.coordsToLatLng||Uo,b,E,k,z;if(!l&&!a)return null;switch(a.type){case"Point":return b=y(l),Ma(f,t,b,i);case"MultiPoint":for(k=0,z=l.length;k<z;k++)b=y(l[k]),h.push(Ma(f,t,b,i));return new ce(h);case"LineString":case"MultiLineString":return E=Pi(l,a.type==="LineString"?0:1,y),new he(E,i);case"Polygon":case"MultiPolygon":return E=Pi(l,a.type==="Polygon"?1:2,y),new rn(E,i);case"GeometryCollection":for(k=0,z=a.geometries.length;k<z;k++){var j=Ci({geometry:a.geometries[k],type:"Feature",properties:t.properties},i);j&&h.push(j)}return new ce(h);case"FeatureCollection":for(k=0,z=a.features.length;k<z;k++){var X=Ci(a.features[k],i);X&&h.push(X)}return new ce(h);default:throw new Error("Invalid GeoJSON object.")}}function Ma(t,i,a,l){return t?t(i,a):new Mi(a,l&&l.markersInheritOptions&&l)}function Uo(t){return new Q(t[1],t[0],t[2])}function Pi(t,i,a){for(var l=[],h=0,f=t.length,y;h<f;h++)y=i?Pi(t[h],i-1,a):(a||Uo)(t[h]),l.push(y);return l}function jo(t,i){return t=J(t),t.alt!==void 0?[D(t.lng,i),D(t.lat,i),D(t.alt,i)]:[D(t.lng,i),D(t.lat,i)]}function ki(t,i,a,l){for(var h=[],f=0,y=t.length;f<y;f++)h.push(i?ki(t[f],Yt(t[f])?0:i-1,a,l):jo(t[f],l));return!i&&a&&h.length>0&&h.push(h[0].slice()),h}function an(t,i){return t.feature?r({},t.feature,{geometry:i}):Di(i)}function Di(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Wo={toGeoJSON:function(t){return an(this,{type:"Point",coordinates:jo(this.getLatLng(),t)})}};Mi.include(Wo),Zo.include(Wo),Ti.include(Wo),he.include({toGeoJSON:function(t){var i=!Yt(this._latlngs),a=ki(this._latlngs,i?1:0,!1,t);return an(this,{type:(i?"Multi":"")+"LineString",coordinates:a})}}),rn.include({toGeoJSON:function(t){var i=!Yt(this._latlngs),a=i&&!Yt(this._latlngs[0]),l=ki(this._latlngs,a?2:i?1:0,!0,t);return i||(l=[l]),an(this,{type:(a?"Multi":"")+"Polygon",coordinates:l})}}),nn.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(a){i.push(a.toGeoJSON(t).geometry.coordinates)}),an(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var a=i==="GeometryCollection",l=[];return this.eachLayer(function(h){if(h.toGeoJSON){var f=h.toGeoJSON(t);if(a)l.push(f.geometry);else{var y=Di(f);y.type==="FeatureCollection"?l.push.apply(l,y.features):l.push(y)}}}),a?an(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Ta(t,i){return new de(t,i)}var Fu=Ta,Si=Xt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,a){this._url=t,this._bounds=ft(i),P(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(K(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&tn(this._image),this},bringToBack:function(){return this._map&&en(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ft(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:nt("img");if(K(i,"leaflet-image-layer"),this._zoomAnimated&&K(i,"leaflet-zoom-animated"),this.options.className&&K(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onload=u(this.fire,this,"load"),i.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ke(this._image,a,i)},_reset:function(){var t=this._image,i=new rt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=i.getSize();mt(t,i.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Hu=function(t,i,a){return new Si(t,i,a)},Ca=Si.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:nt("video");if(K(i,"leaflet-image-layer"),this._zoomAnimated&&K(i,"leaflet-zoom-animated"),this.options.className&&K(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onloadeddata=u(this.fire,this,"load"),t){for(var a=i.getElementsByTagName("source"),l=[],h=0;h<a.length;h++)l.push(a[h].src);this._url=a.length>0?l:[i.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var y=nt("source");y.src=this._url[f],i.appendChild(y)}}});function Zu(t,i,a){return new Ca(t,i,a)}var Pa=Si.extend({_initImage:function(){var t=this._image=this._url;K(t,"leaflet-image-layer"),this._zoomAnimated&&K(t,"leaflet-zoom-animated"),this.options.className&&K(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function Uu(t,i,a){return new Pa(t,i,a)}var ae=Xt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof Q||Z(t))?(this._latlng=J(t),P(this,i)):(P(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(K(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(u(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=J(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&tn(this._container),this},bringToBack:function(){return this._map&&en(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof ce){i=null;var a=this._source._layers;for(var l in a)if(a[l]._map){i=a[l];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=W(this.options.offset),a=this._getAnchor();this._zoomAnimated?mt(this._container,t.add(a)):i=i.add(t).add(a);var l=this._containerBottom=-i.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=l+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});tt.include({_initOverlay:function(t,i,a,l){var h=i;return h instanceof t||(h=new t(l).setContent(i)),a&&h.setLatLng(a),h}}),Xt.include({_initOverlay:function(t,i,a,l){var h=a;return h instanceof t?(P(h,l),h._source=this):(h=i&&!l?i:new t(l,this),h.setContent(a)),h}});var Oi=ae.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ae.prototype.openOn.call(this,t)},onAdd:function(t){ae.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof we||this._source.on("preclick",Se))},onRemove:function(t){ae.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof we||this._source.off("preclick",Se))},getEvents:function(){var t=ae.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=nt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=nt("div",t+"-content-wrapper",i);if(this._contentNode=nt("div",t+"-content",a),Rn(i),Ao(this._contentNode),q(i,"contextmenu",Se),this._tipContainer=nt("div",t+"-tip-container",i),this._tip=nt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=nt("a",t+"-close-button",i);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',q(l,"click",function(h){bt(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),i.width=a+1+"px",i.whiteSpace="",i.height="";var l=t.offsetHeight,h=this.options.maxHeight,f="leaflet-popup-scrolled";h&&l>h?(i.height=h+"px",K(t,f)):pt(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();mt(this._container,i.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Sn(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+i,l=this._containerWidth,h=new G(this._containerLeft,-a-this._containerBottom);h._add(De(this._container));var f=t.layerPointToContainerPoint(h),y=W(this.options.autoPanPadding),b=W(this.options.autoPanPaddingTopLeft||y),E=W(this.options.autoPanPaddingBottomRight||y),k=t.getSize(),z=0,j=0;f.x+l+E.x>k.x&&(z=f.x+l-k.x+E.x),f.x-z-b.x<0&&(z=f.x-b.x),f.y+a+E.y>k.y&&(j=f.y+a-k.y+E.y),f.y-j-b.y<0&&(j=f.y-b.y),(z||j)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([z,j]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ju=function(t,i){return new Oi(t,i)};tt.mergeOptions({closePopupOnClick:!0}),tt.include({openPopup:function(t,i,a){return this._initOverlay(Oi,t,i,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Xt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(Oi,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ce||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Oe(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof we)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ai=ae.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ae.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ae.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ae.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=nt("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,a,l=this._map,h=this._container,f=l.latLngToContainerPoint(l.getCenter()),y=l.layerPointToContainerPoint(t),b=this.options.direction,E=h.offsetWidth,k=h.offsetHeight,z=W(this.options.offset),j=this._getAnchor();b==="top"?(i=E/2,a=k):b==="bottom"?(i=E/2,a=0):b==="center"?(i=E/2,a=k/2):b==="right"?(i=0,a=k/2):b==="left"?(i=E,a=k/2):y.x<f.x?(b="right",i=0,a=k/2):(b="left",i=E+(z.x+j.x)*2,a=k/2),t=t.subtract(W(i,a,!0)).add(z).add(j),pt(h,"leaflet-tooltip-right"),pt(h,"leaflet-tooltip-left"),pt(h,"leaflet-tooltip-top"),pt(h,"leaflet-tooltip-bottom"),K(h,"leaflet-tooltip-"+b),mt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Gt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wu=function(t,i){return new Ai(t,i)};tt.include({openTooltip:function(t,i,a){return this._initOverlay(Ai,t,i,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Xt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ai,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[i](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ce||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(q(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),q(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,a,l;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(a),i=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(i)}});var ka=on.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(yi(i),i.appendChild(a.html)):i.innerHTML=a.html!==!1?a.html:"",a.bgPos){var l=W(a.bgPos);i.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Gu(t){return new ka(t)}on.Default=Bn;var Fn=Xt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:A.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){P(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ht(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(tn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(en(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof G?t:new G(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,a=-t(-1/0,1/0),l=0,h=i.length,f;l<h;l++)f=i[l].style.zIndex,i[l]!==this._container&&f&&(a=t(a,+f));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!A.ielt9){Gt(this._container,this.options.opacity);var t=+new Date,i=!1,a=!1;for(var l in this._tiles){var h=this._tiles[l];if(!(!h.current||!h.loaded)){var f=Math.min(1,(t-h.loaded)/200);Gt(h.el,f),f<1?i=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),i&&(Lt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=i-Math.abs(t-a),this._onUpdateLevel(a)):(ht(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var l=this._levels[t],h=this._map;return l||(l=this._levels[t]={},l.el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=i,l.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,h.getCenter(),h.getZoom()),x(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,i,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var l=i.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ht(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,a,l){var h=Math.floor(t/2),f=Math.floor(i/2),y=a-1,b=new G(+h,+f);b.z=+y;var E=this._tileCoordsToKey(b),k=this._tiles[E];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),y>l?this._retainParent(h,f,y,l):!1)},_retainChildren:function(t,i,a,l){for(var h=2*t;h<2*t+2;h++)for(var f=2*i;f<2*i+2;f++){var y=new G(h,f);y.z=a+1;var b=this._tileCoordsToKey(y),E=this._tiles[b];if(E&&E.active){E.retain=!0;continue}else E&&E.loaded&&(E.retain=!0);a+1<l&&this._retainChildren(h,f,a+1,l)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,a,l){var h=Math.round(i);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var f=this.options.updateWhenZooming&&h!==this._tileZoom;(!l||f)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,i)},_setZoomTransform:function(t,i,a){var l=this._map.getZoomScale(a,t.zoom),h=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(i,a)).round();A.any3d?ke(t.el,h,l):mt(t.el,h)},_resetGrid:function(){var t=this._map,i=t.options.crs,a=this._tileSize=this.getTileSize(),l=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],l).x/a.x),Math.ceil(t.project([0,i.wrapLng[1]],l).x/a.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],l).y/a.x),Math.ceil(t.project([i.wrapLat[1],0],l).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,a=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(a,this._tileZoom),h=i.project(t,this._tileZoom).floor(),f=i.getSize().divideBy(l*2);return new rt(h.subtract(f),h.add(f))},_update:function(t){var i=this._map;if(i){var a=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(l),f=h.getCenter(),y=[],b=this.options.keepBuffer,E=new rt(h.getBottomLeft().subtract([b,-b]),h.getTopRight().add([b,-b]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var z=this._tiles[k].coords;(z.z!==this._tileZoom||!E.contains(new G(z.x,z.y)))&&(this._tiles[k].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var j=h.min.y;j<=h.max.y;j++)for(var X=h.min.x;X<=h.max.x;X++){var St=new G(X,j);if(St.z=this._tileZoom,!!this._isValidTile(St)){var wt=this._tiles[this._tileCoordsToKey(St)];wt?wt.current=!0:y.push(St)}}if(y.sort(function(Rt,ln){return Rt.distanceTo(f)-ln.distanceTo(f)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qt=document.createDocumentFragment();for(X=0;X<y.length;X++)this._addTile(y[X],qt);this._level.el.appendChild(qt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var a=this._globalTileRange;if(!i.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!i.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return ft(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,a=this.getTileSize(),l=t.scaleBy(a),h=l.add(a),f=i.unproject(l,t.z),y=i.unproject(h,t.z);return[f,y]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),a=new Tt(i[0],i[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),a=new G(+i[0],+i[1]);return a.z=+i[2],a},_removeTile:function(t){var i=this._tiles[t];i&&(ht(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){K(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=x,t.onmousemove=x,A.ielt9&&this.options.opacity<1&&Gt(t,this.options.opacity)},_addTile:function(t,i){var a=this._getTilePos(t),l=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),u(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&Et(u(this._tileReady,this,t,null,h)),mt(h,a),this._tiles[l]={el:h,coords:t,current:!0},i.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,i,a){i&&this.fire("tileerror",{error:i,tile:a,coords:t});var l=this._tileCoordsToKey(t);a=this._tiles[l],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Gt(a.el,0),Lt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),i||(K(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),A.ielt9||!this._map._fadeAnimated?Et(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new G(this._wrapX?g(t.x,this._wrapX):t.x,this._wrapY?g(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new rt(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Yu(t){return new Fn(t)}var sn=Fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=P(this,i),i.detectRetina&&A.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var a=document.createElement("img");return q(a,"load",u(this._tileOnLoad,this,i,a)),q(a,"error",u(this._tileOnError,this,i,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var i={r:A.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=a),i["-y"]=a}return U(this._url,r(i,this.options))},_tileOnLoad:function(t,i){A.ielt9?setTimeout(u(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,a){var l=this.options.errorTileUrl;l&&i.getAttribute("src")!==l&&(i.src=l),t(a,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,a=this.options.zoomReverse,l=this.options.zoomOffset;return a&&(t=i-t),t+l},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=x,i.onerror=x,!i.complete)){i.src=ot;var a=this._tiles[t].coords;ht(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:a})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",ot),Fn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,a){if(!(!this._map||a&&a.getAttribute("src")===ot))return Fn.prototype._tileReady.call(this,t,i,a)}});function Da(t,i){return new sn(t,i)}var Sa=sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var a=r({},this.defaultWmsParams);for(var l in i)l in this.options||(a[l]=i[l]);i=P(this,i);var h=i.detectRetina&&A.retina?2:1,f=this.getTileSize();a.width=f.x*h,a.height=f.y*h,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,sn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),a=this._crs,l=Mt(a.project(i[0]),a.project(i[1])),h=l.min,f=l.max,y=(this._wmsVersion>=1.3&&this._crs===xa?[h.y,h.x,f.y,f.x]:[h.x,h.y,f.x,f.y]).join(","),b=sn.prototype.getTileUrl.call(this,t);return b+C(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(t,i){return r(this.wmsParams,t),i||this.redraw(),this}});function qu(t,i){return new Sa(t,i)}sn.WMS=Sa,Da.wms=qu;var fe=Xt.extend({options:{padding:.1},initialize:function(t){P(this,t),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),K(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var a=this._map.getZoomScale(i,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,i),f=l.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(t,i));A.any3d?ke(this._container,f,a):mt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),a=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new rt(a,a.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oa=fe.extend({options:{tolerance:0},getEvents:function(){var t=fe.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");q(t,"mousemove",this._onMouseMove,this),q(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Lt(this._redrawRequest),delete this._ctx,ht(this._container),lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fe.prototype._update.call(this);var t=this._bounds,i=this._container,a=t.getSize(),l=A.retina?2:1;mt(i,t.min),i.width=l*a.x,i.height=l*a.y,i.style.width=a.x+"px",i.style.height=a.y+"px",A.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){fe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[p(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,a=i.next,l=i.prev;a?a.prev=l:this._drawLast=l,l?l.next=a:this._drawFirst=a,delete t._order,delete this._layers[p(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),a=[],l,h;for(h=0;h<i.length;h++){if(l=Number(i[h]),isNaN(l))return;a.push(l)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Et(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new rt,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var a=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var a,l,h,f,y=t._parts,b=y.length,E=this._ctx;if(b){for(E.beginPath(),a=0;a<b;a++){for(l=0,h=y[a].length;l<h;l++)f=y[a][l],E[l?"lineTo":"moveTo"](f.x,f.y);i&&E.closePath()}this._fillStroke(E,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,a=this._ctx,l=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||l)/l;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(i.x,i.y/h,l,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,i){var a=i.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),a,l,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(l=a);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(pt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var a,l,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(i)&&(l=a);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(K(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,a){this._map._fireDOMEvent(i,a||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var a=i.next,l=i.prev;if(a)a.prev=l;else return;l?l.next=a:a&&(this._drawFirst=a),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var a=i.next,l=i.prev;if(l)l.next=a;else return;a?a.prev=l:l&&(this._drawLast=l),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Aa(t){return A.canvas?new Oa(t):null}var Hn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Vu={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fe.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Hn("shape");K(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Hn("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ht(i),t.removeInteractiveTarget(i),delete this._layers[p(t)]},_updateStyle:function(t){var i=t._stroke,a=t._fill,l=t.options,h=t._container;h.stroked=!!l.stroke,h.filled=!!l.fill,l.stroke?(i||(i=t._stroke=Hn("stroke")),h.appendChild(i),i.weight=l.weight+"px",i.color=l.color,i.opacity=l.opacity,l.dashArray?i.dashStyle=Z(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=l.lineCap.replace("butt","flat"),i.joinstyle=l.lineJoin):i&&(h.removeChild(i),t._stroke=null),l.fill?(a||(a=t._fill=Hn("fill")),h.appendChild(a),a.color=l.fillColor||l.color,a.opacity=l.fillOpacity):a&&(h.removeChild(a),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),a=Math.round(t._radius),l=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+a+","+l+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){tn(t._container)},_bringToBack:function(t){en(t._container)}},Ii=A.vml?Hn:bn,Zn=fe.extend({_initContainer:function(){this._container=Ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fe.prototype._update.call(this);var t=this._bounds,i=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,a.setAttribute("width",i.x),a.setAttribute("height",i.y)),mt(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=Ii("path");t.options.className&&K(i,t.options.className),t.options.interactive&&K(i,"leaflet-interactive"),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ht(t._path),t.removeInteractiveTarget(t._path),delete this._layers[p(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,a=t.options;i&&(a.stroke?(i.setAttribute("stroke",a.color),i.setAttribute("stroke-opacity",a.opacity),i.setAttribute("stroke-width",a.weight),i.setAttribute("stroke-linecap",a.lineCap),i.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?i.setAttribute("stroke-dasharray",a.dashArray):i.removeAttribute("stroke-dasharray"),a.dashOffset?i.setAttribute("stroke-dashoffset",a.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),a.fill?(i.setAttribute("fill",a.fillColor||a.color),i.setAttribute("fill-opacity",a.fillOpacity),i.setAttribute("fill-rule",a.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,ai(t._parts,i))},_updateCircle:function(t){var i=t._point,a=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||a,h="a"+a+","+l+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(i.x-a)+","+i.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(t,f)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){tn(t._path)},_bringToBack:function(t){en(t._path)}});A.vml&&Zn.include(Vu);function Ia(t){return A.svg||A.vml?new Zn(t):null}tt.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Aa(t)||Ia(t)}});var Ra=rn.extend({initialize:function(t,i){rn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ft(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $u(t,i){return new Ra(t,i)}Zn.create=Ii,Zn.pointsToPath=ai,de.geometryToLayer=Ci,de.coordsToLatLng=Uo,de.coordsToLatLngs=Pi,de.latLngToCoords=jo,de.latLngsToCoords=ki,de.getFeature=an,de.asFeature=Di,tt.mergeOptions({boxZoom:!0});var za=re.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),On(),Mo(),this._startPoint=this._map.mouseEventToContainerPoint(t),q(document,{contextmenu:Oe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),K(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new rt(this._point,this._startPoint),a=i.getSize();mt(this._box,i.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ht(this._box),pt(this._container,"leaflet-crosshair")),An(),To(),lt(document,{contextmenu:Oe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var i=new Tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});tt.addInitHook("addHandler","boxZoom",za),tt.mergeOptions({doubleClickZoom:!0});var Na=re.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,a=i.getZoom(),l=i.options.zoomDelta,h=t.originalEvent.shiftKey?a-l:a+l;i.options.doubleClickZoom==="center"?i.setZoom(h):i.setZoomAround(t.containerPoint,h)}});tt.addInitHook("addHandler","doubleClickZoom",Na),tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ba=re.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ye(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}K(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ft(this._map.options.maxBounds);this._offsetLimit=Mt(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),a=this._initialWorldOffset,l=this._draggable._newPos.x,h=(l-i+a)%t+i-a,f=(l+i+a)%t-i-a,y=Math.abs(h+a)<Math.abs(f+a)?h:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(t){var i=this._map,a=i.options,l=!a.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),l)i.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,y=a.easeLinearity,b=h.multiplyBy(y/f),E=b.distanceTo([0,0]),k=Math.min(a.inertiaMaxSpeed,E),z=b.multiplyBy(k/E),j=k/(a.inertiaDeceleration*y),X=z.multiplyBy(-j/2).round();!X.x&&!X.y?i.fire("moveend"):(X=i._limitOffset(X,i.options.maxBounds),Et(function(){i.panBy(X,{duration:j,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});tt.addInitHook("addHandler","dragging",Ba),tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fa=re.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),q(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,a=t.scrollTop||i.scrollTop,l=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(l,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},a=this.keyCodes,l,h;for(l=0,h=a.left.length;l<h;l++)i[a.left[l]]=[-1*t,0];for(l=0,h=a.right.length;l<h;l++)i[a.right[l]]=[t,0];for(l=0,h=a.down.length;l<h;l++)i[a.down[l]]=[0,t];for(l=0,h=a.up.length;l<h;l++)i[a.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},a=this.keyCodes,l,h;for(l=0,h=a.zoomIn.length;l<h;l++)i[a.zoomIn[l]]=t;for(l=0,h=a.zoomOut.length;l<h;l++)i[a.zoomOut[l]]=-t},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,a=this._map,l;if(i in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(l=this._panKeys[i],t.shiftKey&&(l=W(l).multiplyBy(3)),a.options.maxBounds&&(l=a._limitOffset(W(l),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(l)));a.panTo(h)}else a.panBy(l)}else if(i in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Oe(t)}}});tt.addInitHook("addHandler","keyboard",Fa),tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ha=re.extend({addHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=ca(t),a=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),l),Oe(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,f=a?Math.ceil(h/a)*a:h,y=t._limitZoom(i+(this._delta>0?f:-f))-i;this._delta=0,this._startTime=null,y&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+y):t.setZoomAround(this._lastMousePos,i+y))}});tt.addInitHook("addHandler","scrollWheelZoom",Ha);var Ku=600;tt.mergeOptions({tapHold:A.touchNative&&A.safari&&A.mobile,tapTolerance:15});var Za=re.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new G(i.clientX,i.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(q(document,"touchend",bt),q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ku),q(document,"touchend touchcancel contextmenu",this._cancel,this),q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){lt(document,"touchend",bt),lt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new G(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});a._simulated=!0,i.target.dispatchEvent(a)}});tt.addInitHook("addHandler","tapHold",Za),tt.mergeOptions({touchZoom:A.touch,bounceAtZoomLimits:!0});var Ua=re.extend({addHooks:function(){K(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var a=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(a.add(l)._divideBy(2))),this._startDist=a.distanceTo(l),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend touchcancel",this._onTouchEnd,this),bt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,a=i.mouseEventToContainerPoint(t.touches[0]),l=i.mouseEventToContainerPoint(t.touches[1]),h=a.distanceTo(l)/this._startDist;if(this._zoom=i.getScaleZoom(h,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&h<1||this._zoom>i.getMaxZoom()&&h>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var f=a._add(l)._divideBy(2)._subtract(this._centerPoint);if(h===1&&f.x===0&&f.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Lt(this._animRequest);var y=u(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Et(y,this,!0),bt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Lt(this._animRequest),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});tt.addInitHook("addHandler","touchZoom",Ua),tt.BoxZoom=za,tt.DoubleClickZoom=Na,tt.Drag=Ba,tt.Keyboard=Fa,tt.ScrollWheelZoom=Ha,tt.TapHold=Za,tt.TouchZoom=Ua,e.Bounds=rt,e.Browser=A,e.CRS=It,e.Canvas=Oa,e.Circle=Zo,e.CircleMarker=Ti,e.Class=Kt,e.Control=Jt,e.DivIcon=ka,e.DivOverlay=ae,e.DomEvent=pu,e.DomUtil=du,e.Draggable=ye,e.Evented=Te,e.FeatureGroup=ce,e.GeoJSON=de,e.GridLayer=Fn,e.Handler=re,e.Icon=on,e.ImageOverlay=Si,e.LatLng=Q,e.LatLngBounds=Tt,e.Layer=Xt,e.LayerGroup=nn,e.LineUtil=Cu,e.Map=tt,e.Marker=Mi,e.Mixin=Lu,e.Path=we,e.Point=G,e.PolyUtil=bu,e.Polygon=rn,e.Polyline=he,e.Popup=Oi,e.PosAnimation=ha,e.Projection=Pu,e.Rectangle=Ra,e.Renderer=fe,e.SVG=Zn,e.SVGOverlay=Pa,e.TileLayer=sn,e.Tooltip=Ai,e.Transformation=Ye,e.Util=me,e.VideoOverlay=Ca,e.bind=u,e.bounds=Mt,e.canvas=Aa,e.circle=zu,e.circleMarker=Ru,e.control=zn,e.divIcon=Gu,e.extend=r,e.featureGroup=Ou,e.geoJSON=Ta,e.geoJson=Fu,e.gridLayer=Yu,e.icon=Au,e.imageOverlay=Hu,e.latLng=J,e.latLngBounds=ft,e.layerGroup=Su,e.map=_u,e.marker=Iu,e.point=W,e.polygon=Bu,e.polyline=Nu,e.popup=ju,e.rectangle=$u,e.setOptions=P,e.stamp=p,e.svg=Ia,e.svgOverlay=Uu,e.tileLayer=Da,e.tooltip=Wu,e.transformation=ie,e.version=c,e.videoOverlay=Zu;var Ju=window.L;e.noConflict=function(){return window.L=Ju,this},window.L=e})})(Sr,Sr.exports);var Xf=Sr.exports;const pe=Jf(Xf);document.addEventListener("livewire:init",()=>{Livewire.on("set-occupied-dates",n=>{const o=n[0];console.log("Datas Ocupadas:",o),Array.isArray(o)?(ct("#start_date",{dateFormat:"Y-m-d",disable:o}),ct("#end_date",{dateFormat:"Y-m-d",disable:o})):console.error("Formato inesperado de occupiedDates:",o)}),ct("#start_date",{dateFormat:"Y-m-d"}),ct("#end_date",{dateFormat:"Y-m-d"})});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("map-create-subdivisions");if(console.log("Elemento do mapa encontrado:",n),!n){console.error("Elemento do mapa no encontrado.");return}Livewire.on("firstCoordinateUpdated",o=>{o&&o.length>0?setTimeout(()=>{n.style.display="block";const e=document.querySelector(".container-map-create-subdivisions");e&&(e.style.display="block"),console.log("Coordenadas recebidas:",o),Qf(o)},100):console.error("Coordenadas invlidas recebidas:",o)})});function Qf(n){if(Array.isArray(n)&&n.length>0)n=n[0].split(",").map(u=>parseFloat(u.trim())),console.log("Coordenadas convertidas:",n);else{console.error("Coordenadas invlidas:",n);return}const o=L.map("map-create-subdivisions",{center:[n[0],n[1]],zoom:18,minZoom:15,maxZoom:22,zoomControl:!0,scrollWheelZoom:!0,dragging:!0});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap Contributors"}).addTo(o),L.marker([n[0],n[1]]).addTo(o).bindPopup("<b>Coordenada Inicial</b>").openPopup(),L.polygon([n],{color:"green",fillColor:"#3f3",fillOpacity:.2}).addTo(o).bindPopup("<h3>Loteamento</h3><p>rea: Desconhecida</p>");const r=new L.FeatureGroup;o.addLayer(r);const s=new L.Control.Draw({edit:{featureGroup:r,remove:!0},draw:{polygon:{shapeOptions:{color:"green",weight:5}},rectangle:!1,circle:!1,marker:!1,polyline:!1}});o.addControl(s),o.on(L.Draw.Event.CREATED,function(u){const d=u.layer;r.addLayer(d);const p=d.getLatLngs()[0].map(g=>[g.lat,g.lng]);console.log("Enviando coordenadas para Livewire:",p),Livewire.dispatch("updateCoordinates",{coordinates:p});const v=document.getElementById("coordinates");v&&(v.value=JSON.stringify(p))}),console.log("Mapa inicializado com sucesso!")}(function(n,o,e){function c(r,s){for(;(r=r.parentElement)&&!r.classList.contains(s););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,s){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),s=this._poly,u=s.getLatLngs(),d=u.splice(-1,1)[0];this._poly.setLatLngs(u),this._markerGroup.removeLayer(r),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(d,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var s=this._map.mouseEventToLayerPoint(r.originalEvent),u=this._map.layerPointToLatLng(s);this._currentLatLng=u,this._updateTooltip(u),this._updateGuide(s),this._mouseMarker.setLatLng(u),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var s=r.originalEvent,u=s.clientX,d=s.clientY;this._startPoint.call(this,u,d)}},_startPoint:function(r,s){this._mouseDownOrigin=L.point(r,s)},_onMouseUp:function(r){var s=r.originalEvent,u=s.clientX,d=s.clientY;this._endPoint.call(this,u,d,r),this._clickHandled=null},_endPoint:function(r,s,u){if(this._mouseDownOrigin){var d=L.point(r,s).distanceTo(this._mouseDownOrigin),p=this._calculateFinishDistance(u.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(u.latlng),this._finishShape()):p<10&&L.Browser.touch?this._finishShape():Math.abs(d)<9*(n.devicePixelRatio||1)&&this.addVertex(u.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var s,u,d=r.originalEvent;!d.touches||!d.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=d.touches[0].clientX,u=d.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,u),this._endPoint.call(this,s,u,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var s;if(this._markers.length>0){var u;if(this.type===L.Draw.Polyline.TYPE)u=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;u=this._markers[0]}var d=this._map.latLngToContainerPoint(u.getLatLng()),p=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),v=this._map.latLngToContainerPoint(p.getLatLng());s=d.distanceTo(v)}else s=1/0;return s},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var s=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(r){var s=this._markers?this._markers.length:0;s>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),r))},_updateTooltip:function(r){var s=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(r,s){var u,d,p,v=Math.floor(Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2))),g=this.options.guidelineDistance,x=this.options.maxGuideLineLength,D=v>x?v-x:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));D<v;D+=this.options.guidelineDistance)u=D/v,d={x:Math.floor(r.x*(1-u)+u*s.x),y:Math.floor(r.y*(1-u)+u*s.y)},p=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),p.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(p,d)},_updateGuideColor:function(r){if(this._guidesContainer)for(var s=0,u=this._guidesContainer.childNodes.length;s<u;s++)this._guidesContainer.childNodes[s].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,s,u=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=u?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),r},_updateRunningMeasure:function(r,s){var u,d,p=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(u=p-(s?2:1),d=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[u].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[u].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=d*(s?1:-1))},_getMeasurementString:function(){var r,s=this._currentLatLng,u=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?u&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(u)*(this.options.factor||1):this._measurementRunningTotal||0:u&&s?this._measurementRunningTotal+this._map.distance(s,u)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,s){L.Draw.Polyline.prototype.initialize.call(this,r,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,s;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:r,subtext:s}},_getMeasurementString:function(){var r=this._area,s="";return r||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(s+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,s){var u;!this.options.allowIntersection&&this.options.showArea&&(u=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(u)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,s)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),o.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(o,"mouseup",this._onMouseUp,this),L.DomEvent.off(o,"touchend",this._onMouseUp,this),o.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(o,"mouseup",this._onMouseUp,this).on(o,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var s=r.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!c(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,s,u,d=L.Draw.SimpleShape.prototype._getTooltipText.call(this),p=this._shape,v=this.options.showArea;return p&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(r),u=v?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:d.text,subtext:u}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var s=r.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,s)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,s)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(r);else var s=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var s,u=r.latlng,d=this.options.showRadius,p=this.options.metric;if(this._tooltip.updatePosition(u),this._isDrawing){this._drawShape(u),s=this._shape.getRadius().toFixed(1);var v="";d&&(v=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,p,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:v})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,s){this._marker=r,L.setOptions(this,s)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var s=r.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,s){var u=parseInt(r.style.marginTop,10)-s,d=parseInt(r.style.marginLeft,10)-s;r.style.marginTop=u+"px",r.style.marginLeft=d+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var s=0;s<this._verticesHandlers.length;s++)r(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,s,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this._latlngs=s,L.setOptions(this,u)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,s=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),s&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),r.options.editing.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,s=r._path;s&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,s,u,d,p=this._defaultShape();for(r=0,u=p.length;r<u;r++)d=this._createMarker(p[r],r),d.on("click",this._onMarkerClick,this),d.on("contextmenu",this._onContextMenu,this),this._markers.push(d);var v,g;for(r=0,s=u-1;r<u;s=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(v=this._markers[s],g=this._markers[r],this._createMiddleMarker(v,g),this._updatePrevNext(v,g))},_createMarker:function(r,s){var u=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return u._origLatLng=r,u._index=s,u.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(u),u},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),s=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),s},_removeMarker:function(r){var s=r._index;this._markerGroup.removeLayer(r),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var s=r.target,u=this._poly,d=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),u.options.poly){var p=u._map._editTooltip;if(!u.options.poly.allowIntersection&&u.intersects()){L.extend(s._origLatLng,d),s.setLatLng(d);var v=u.options.color;u.setStyle({color:this.options.drawError.color}),p&&p.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){u.setStyle({color:v}),p&&p.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,u=r.target;this._defaultShape().length<s||(this._removeMarker(u),this._updatePrevNext(u._prev,u._next),u._middleLeft&&this._markerGroup.removeLayer(u._middleLeft),u._middleRight&&this._markerGroup.removeLayer(u._middleRight),u._prev&&u._next?this._createMiddleMarker(u._prev,u._next):u._prev?u._next||(u._prev._middleRight=null):u._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var s=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var s=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s),d=r.target;L.extend(d._origLatLng,u),d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,s){this._markerGroup.eachLayer(function(u){u._index>r&&(u._index+=s)})},_createMiddleMarker:function(r,s){var u,d,p,v=this._getMiddleLatLng(r,s),g=this._createMarker(v);g.setOpacity(.6),r._middleRight=s._middleLeft=g,d=function(){g.off("touchmove",d,this);var x=s._index;g._index=x,g.off("click",u,this).on("click",this._onMarkerClick,this),v.lat=g.getLatLng().lat,v.lng=g.getLatLng().lng,this._spliceLatLngs(x,0,v),this._markers.splice(x,0,g),g.setOpacity(1),this._updateIndexes(x,1),s._index++,this._updatePrevNext(r,g),this._updatePrevNext(g,s),this._poly.fire("editstart")},p=function(){g.off("dragstart",d,this),g.off("dragend",p,this),g.off("touchmove",d,this),this._createMiddleMarker(r,g),this._createMiddleMarker(g,s)},u=function(){d.call(this),p.call(this),this._fireEdit()},g.on("click",u,this).on("dragstart",d,this).on("dragend",p,this).on("touchmove",d,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(r,s){r&&(r._next=s),s&&(s._prev=r)},_getMiddleLatLng:function(r,s){var u=this._poly._map,d=u.project(r.getLatLng()),p=u.project(s.getLatLng());return u.unproject(d._add(p)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,s)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,s){var u=new L.Marker.Touch(r,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(u),this._markerGroup.addLayer(u),u},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var s=r.target,u=s.getLatLng();s===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var s=this._getCorners(),u=r.target,d=u._cornerIndex;u.setOpacity(0),this._oppositeCorner=s[(d+2)%4],this._toggleCornerMarkers(0,d)}this._shape.fire("editstart")},_onTouchMove:function(r){var s=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s);return r.target===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),s=r.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var s=0,u=r.length;s<u;s++)this._resizeMarkers.push(this._createMarker(r[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var s=this._getCorners(),u=r.target,d=u._cornerIndex;this._oppositeCorner=s[(d+2)%4],this._toggleCornerMarkers(0,d)},_onMarkerDragEnd:function(r){var s,u,d=r.target;d===this._moveMarker&&(s=this._shape.getBounds(),u=s.getCenter(),d.setLatLng(u)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var s,u=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=this._shape.getBounds(),p=d.getCenter(),v=[],g=0,x=u.length;g<x;g++)s=[u[g].lat-p.lat,u[g].lng-p.lng],v.push([r.lat+s[0],r.lng+s[1]]);this._shape.setLatLngs(v),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var s;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setLatLng(r[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),s=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var s=this._shape._radius*Math.cos(Math.PI/4),u=this._map.project(r);return this._map.unproject([u.x+s,u.y-s])},_resize:function(r){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(r):radius=this._map.distance(s,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,s){var u={};if(r.touches!==void 0){if(!r.touches.length)return;u=r.touches[0]}else if(r.pointerType!=="touch"||(u=r,!this._filterClick(r)))return;var d=this._map.mouseEventToContainerPoint(u),p=this._map.mouseEventToLayerPoint(u),v=this._map.layerPointToLatLng(p);this._map.fire(s,{latlng:v,layerPoint:p,containerPoint:d,pageX:u.pageX,pageY:u.pageY,originalEvent:r})},_filterClick:function(r){var s=r.timeStamp||r.originalEvent.timeStamp,u=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return u&&u>100&&u<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(r,s)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=n.navigator.userAgent,s=r.indexOf("MSIE ");if(s>0)return parseInt(r.substring(s+5,r.indexOf(".",s)),10);if(r.indexOf("Trident/")>0){var u=r.indexOf("rv:");return parseInt(r.substring(u+3,r.indexOf(".",u)),10)}var d=r.indexOf("Edge/");return d>0&&parseInt(r.substring(d+5,r.indexOf(".",d)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var u=0;u<s.length;u++)L.DomEvent.on(r,s[u],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=n.navigator.userAgent,s=r.indexOf("MSIE ");if(s>0)return parseInt(r.substring(s+5,r.indexOf(".",s)),10);if(r.indexOf("Trident/")>0){var u=r.indexOf("rv:");return parseInt(r.substring(u+3,r.indexOf(".",u)),10)}var d=r.indexOf("Edge/");return d>0&&parseInt(r.substring(d+5,r.indexOf(".",d)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var s=[],u=0,d=r.length;u<d;u++)Array.isArray(r[u])?s.push(L.LatLngUtil.cloneLatLngs(r[u])):s.push(this.cloneLatLng(r[u]));return s},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var u,d,p=s.length,v=0,g=Math.PI/180;if(p>2){for(var x=0;x<p;x++)u=s[x],d=s[(x+1)%p],v+=(d.lng-u.lng)*g*(2+Math.sin(u.lat*g)+Math.sin(d.lat*g));v=6378137*v*6378137/2}return Math.abs(v)},formattedNumber:function(s,u){var d=parseFloat(s).toFixed(u),p=L.drawLocal.format&&L.drawLocal.format.numeric,v=p&&p.delimiters,g=v&&v.thousands,x=v&&v.decimal;if(g||x){var D=d.split(".");d=g?D[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):D[0],x=x||".",D.length>1&&(d=d+x+D[1])}return d},readableArea:function(s,u,g){var p,v,g=L.Util.extend({},r,g);return u?(v=["ha","m"],type=typeof u,type==="string"?v=[u]:type!=="boolean"&&(v=u),p=s>=1e6&&v.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,g.km)+" km":s>=1e4&&v.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,g.ha)+" ha":L.GeometryUtil.formattedNumber(s,g.m)+" m"):(s/=.836127,p=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,g.mi)+" mi":s>=4840?L.GeometryUtil.formattedNumber(s/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(s,g.yd)+" yd"),p},readableDistance:function(s,u,d,p,x){var g,x=L.Util.extend({},r,x);switch(u?typeof u=="string"?u:"metric":d?"feet":p?"nauticalMile":"yards"){case"metric":g=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(s,x.m)+" m";break;case"feet":s*=3.28083,g=L.GeometryUtil.formattedNumber(s,x.ft)+" ft";break;case"nauticalMile":s*=.53996,g=L.GeometryUtil.formattedNumber(s/1e3,x.nm)+" nm";break;case"yards":default:s*=1.09361,g=s>1760?L.GeometryUtil.formattedNumber(s/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(s,x.yd)+" yd"}return g},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,s,u,d){return this._checkCounterclockwise(r,u,d)!==this._checkCounterclockwise(s,u,d)&&this._checkCounterclockwise(r,s,u)!==this._checkCounterclockwise(r,s,d)},_checkCounterclockwise:function(r,s,u){return(u.y-r.y)*(s.x-r.x)>(s.y-r.y)*(u.x-r.x)}}),L.Polyline.include({intersects:function(){var r,s,u,d=this._getProjectedPoints(),p=d?d.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=p-1;r>=3;r--)if(s=d[r-1],u=d[r],this._lineSegmentsIntersectsRange(s,u,r-2))return!0;return!1},newLatLngIntersects:function(r,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),s)},newPointIntersects:function(r,s){var u=this._getProjectedPoints(),d=u?u.length:0,p=u?u[d-1]:null,v=d-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(p,r,v,s?1:0)},_tooFewPointsForIntersection:function(r){var s=this._getProjectedPoints(),u=s?s.length:0;return u+=r||0,!s||u<=3},_lineSegmentsIntersectsRange:function(r,s,u,d){var p,v,g=this._getProjectedPoints();d=d||0;for(var x=u;x>d;x--)if(p=g[x-1],v=g[x],L.LineUtil.segmentsIntersect(r,s,p,v))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],s=this._defaultShape(),u=0;u<s.length;u++)r.push(this._map.latLngToLayerPoint(s[u]));return r}}),L.Polygon.include({intersects:function(){var r,s,u,d,p=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=p.length,s=p[0],u=p[r-1],d=r-2,this._lineSegmentsIntersectsRange(u,s,d,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var s,u=L.DomUtil.create("div","leaflet-draw"),d=!1;for(var p in this._toolbars)this._toolbars.hasOwnProperty(p)&&(s=this._toolbars[p].addToolbar(r))&&(d||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),d=!0),u.appendChild(s));return u},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(r)},_toolbarEnabled:function(r){var s=r.target;for(var u in this._toolbars)this._toolbars[u]!==s&&this._toolbars[u].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var s,u=L.DomUtil.create("div","leaflet-draw-section"),d=0,p=this._toolbarClass||"",v=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,s=0;s<v.length;s++)v[s].enabled&&this._initModeHandler(v[s].handler,this._toolbarContainer,d++,p,v[s].title);if(d)return this._lastButtonIndex=--d,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),u.appendChild(this._toolbarContainer),u.appendChild(this._actionsContainer),u},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,u=this._actionButtons.length;s<u;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,s,u,d,p){var v=r.type;this._modes[v]={},this._modes[v].handler=r,this._modes[v].button=this._createButton({type:v,title:p,className:d+"-"+v,container:s,callback:this._modes[v].handler.enable,context:this._modes[v].handler}),this._modes[v].buttonIndex=u,this._modes[v].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(r){var s=L.DomUtil.create("a",r.className||"",r.container),u=L.DomUtil.create("span","sr-only",r.container);s.href="#",s.appendChild(u),r.title&&(s.title=r.title,u.innerHTML=r.title),r.text&&(s.innerHTML=r.text,u.innerHTML=r.text);var d=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,d,r.callback,r.context),s},_disposeButton:function(r,s){var u=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,u,s)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var s,u,d,p,v=this._actionsContainer,g=this.getActions(r),x=g.length;for(u=0,d=this._actionButtons.length;u<d;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback);for(this._actionButtons=[];v.firstChild;)v.removeChild(v.firstChild);for(var D=0;D<x;D++)"enabled"in g[D]&&!g[D].enabled||(s=L.DomUtil.create("li","",v),p=this._createButton({title:g[D].title,text:g[D].text,container:s,callback:g[D].callback,context:g[D].context}),this._actionButtons.push({button:p,callback:g[D].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,s=this._lastButtonIndex,u=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=u+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var s=this._map.latLngToLayerPoint(r),u=this._container;return this._container&&(this._visible&&(u.style.visibility="inherit"),L.DomUtil.setPosition(u,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var s in this.options)this.options.hasOwnProperty(s)&&r[s]&&(r[s]=L.extend({},this.options[s],r[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var s in this._modes)this._modes.hasOwnProperty(s)&&r.hasOwnProperty(s)&&this._modes[s].handler.setOptions(r[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(r){var s=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,s=this.options.featureGroup,u=s.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,u?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,u?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,s){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(r.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var s=L.Util.stamp(r);this._uneditedLayerProps[s]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var s=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[s].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[s].latlng),r.setRadius(this._uneditedLayerProps[s].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[s].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var s,u,d=r.layer||r.target||r;this._backupLayer(d),this.options.poly&&(u=L.Util.extend({},this.options.poly),d.options.poly=u),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=d.options.color,s.fillColor=d.options.fillColor),d.options.original=L.extend({},d.options),d.options.editing=s),d instanceof L.Marker?(d.editing&&d.editing.enable(),d.dragging.enable(),d.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.enable()},_disableLayerEdit:function(r){var s=r.layer||r.target||r;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var s=r.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(r){var s=r.originalEvent.changedTouches[0],u=this._map.mouseEventToLayerPoint(s),d=this._map.layerPointToLatLng(u);r.target.setLatLng(d)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,s){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var s=r.layer||r.target||r;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(r){var s=r.layer||r.target||r;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);window.Alpine=ru;ru.start();window.flatpickr=ct;window.L=pe;document.addEventListener("DOMContentLoaded",()=>{var D;const n=document.getElementById("map");if(!n){console.error("Elemento do mapa no encontrado.");return}let o=JSON.parse(n.dataset.coordinatesSubdivision);const e=JSON.parse(n.dataset.subdivision),c=JSON.parse(n.dataset.blocks),r=JSON.parse(n.dataset.lands);if(Array.isArray(o)&&o.length>0)o=o.map(I=>I.map(Number));else{console.error("Coordenadas invlidas:",o);return}const s=pe.map(n,{center:[o[0][0],o[0][1]],zoom:18,minZoom:15,maxZoom:22,zoomControl:!0,scrollWheelZoom:!0,dragging:!0});pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap Contributors"}).addTo(s);const u=pe.polygon(o,{color:e.color||"green",fillColor:e.color||"#3f3",fillOpacity:.2}).addTo(s);u.bindPopup(`<h3>${e.name}</h3><p><strong>rea:</strong> ${e.area} m</p>`);const d=new pe.FeatureGroup;s.addLayer(d);const p=new pe.Control.Draw({edit:{featureGroup:d,remove:!0},draw:{polygon:!0,rectangle:!0,circle:!1,marker:!1,polyline:!1}});s.addControl(p),s.on(pe.Draw.Event.CREATED,function(I){const S=I.layer;d.addLayer(S);const P=S.getLatLngs()[0].map(C=>[C.lat,C.lng]);console.log("Novo polgono desenhado:",P),fetch("/salvar-poligono",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({coordinates:P})}).then(C=>C.json()).then(C=>{console.log("Salvo com sucesso:",C)}).catch(C=>{console.error("Erro ao salvar:",C)})});const v=c.map(I=>{const S=I.coordinates.map(C=>C.split(",").map(Number)),P=pe.polygon(S,{color:I.color||"blue",fillColor:I.color||"#3f3",fillOpacity:.2}).addTo(s);return P.bindPopup(`<h3>${I.name}</h3><p><strong>rea:</strong> ${I.area} m</p>`),{blockId:I.id,polygon:P}}),g=r.map(I=>{const S=I.coordinates.map(C=>C.split(",").map(Number)),P=pe.polygon(S,{color:I.color||"purple",fillColor:I.color||"#f0f",fillOpacity:.2}).addTo(s);return P.bindPopup(`<h3>${I.name}</h3><p><strong>rea:</strong> ${I.area} m</p>`),{landId:I.id,polygon:P}}),x=(I,S,P)=>{const C=P.find(H=>H.blockId===parseInt(I)||H.landId===parseInt(I));C&&(S?C.polygon.addTo(s):s.removeLayer(C.polygon))};document.querySelectorAll('input[id^="block-"]').forEach(I=>{I.addEventListener("change",S=>{x(S.target.id.replace("block-",""),S.target.checked,v)})}),document.querySelectorAll('input[id^="land-"]').forEach(I=>{I.addEventListener("change",S=>{x(S.target.id.replace("land-",""),S.target.checked,g)})}),(D=document.getElementById("subdivision-toggle"))==null||D.addEventListener("change",I=>{I.target.checked?s.addLayer(u):s.removeLayer(u)})});
